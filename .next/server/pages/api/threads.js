"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/threads";
exports.ids = ["pages/api/threads"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fthreads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cthreads%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fthreads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cthreads%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_threads_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\threads\\index.js */ \"(api)/./pages/api/threads/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_threads_index_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_threads_index_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_threads_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_threads_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/threads\",\n        pathname: \"/api/threads\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_threads_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnRocmVhZHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3RocmVhZHMlNUNpbmRleC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM0RDtBQUM1RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsd0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovLzVjaC8/NWE2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHRocmVhZHNcXFxcaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS90aHJlYWRzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdGhyZWFkc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fthreads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cthreads%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dataStore.js":
/*!**************************!*\
  !*** ./lib/dataStore.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPost: () => (/* binding */ addPost),\n/* harmony export */   addThread: () => (/* binding */ addThread),\n/* harmony export */   debugDataStore: () => (/* binding */ debugDataStore),\n/* harmony export */   postsStore: () => (/* binding */ postsStore),\n/* harmony export */   threadsStore: () => (/* binding */ threadsStore)\n/* harmony export */ });\n/**\r\n * サーバーサイドで共有するデータストア\r\n * Next.jsの開発サーバーでAPIエンドポイント間でデータを共有するために使用\r\n */ // グローバル変数として保存するためのヘルパー\nif (!global.threadsStore) {\n    global.threadsStore = [\n        {\n            thread_id: \"1\",\n            title: \"サンプルスレッド1\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n            language: \"ja\"\n        },\n        {\n            thread_id: \"2\",\n            title: \"サンプルスレッド2\",\n            created_at: new Date(Date.now() - 86400000).toISOString(),\n            updated_at: new Date(Date.now() - 3600000).toISOString(),\n            language: \"ja\"\n        },\n        {\n            thread_id: \"3\",\n            title: \"プログラミングについての議論\",\n            created_at: new Date(Date.now() - 172800000).toISOString(),\n            updated_at: new Date(Date.now() - 5400000).toISOString(),\n            language: \"ja\"\n        }\n    ];\n}\nif (!global.postsStore) {\n    global.postsStore = {\n        \"1\": [\n            {\n                post_id: \"1_1\",\n                thread_id: \"1\",\n                body: \"最初の投稿です\",\n                anonymous_id: \"匿名123\",\n                created_at: new Date(Date.now() - 3600000).toISOString(),\n                language: \"ja\"\n            },\n            {\n                post_id: \"1_2\",\n                thread_id: \"1\",\n                body: \"返信です\",\n                anonymous_id: \"匿名456\",\n                created_at: new Date().toISOString(),\n                language: \"ja\"\n            }\n        ],\n        \"2\": [\n            {\n                post_id: \"2_1\",\n                thread_id: \"2\",\n                body: \"別のスレッドの投稿です\",\n                anonymous_id: \"匿名789\",\n                created_at: new Date(Date.now() - 2400000).toISOString(),\n                language: \"ja\"\n            }\n        ],\n        \"3\": [\n            {\n                post_id: \"3_1\",\n                thread_id: \"3\",\n                body: \"プログラミングについて話しましょう\",\n                anonymous_id: \"匿名101\",\n                created_at: new Date(Date.now() - 172000000).toISOString(),\n                language: \"ja\"\n            }\n        ]\n    };\n}\n// スレッドデータ保存用配列をエクスポート\nconst threadsStore = global.threadsStore;\n// 投稿データ保存用オブジェクトをエクスポート\nconst postsStore = global.postsStore;\n// 新しいスレッドを追加するユーティリティ関数\nfunction addThread(thread) {\n    // 既存のスレッドを確認（重複追加防止）\n    const existingThread = threadsStore.find((t)=>t.thread_id === thread.thread_id);\n    if (!existingThread) {\n        threadsStore.push({\n            ...thread\n        }); // オブジェクトをコピーして追加\n        console.log(`スレッド追加: ID=${thread.thread_id}, タイトル=\"${thread.title}\"`);\n        console.log(\"現在のスレッド一覧:\", threadsStore.map((t)=>t.thread_id));\n    }\n}\n// 新しい投稿を追加するユーティリティ関数\nfunction addPost(threadId, post) {\n    if (!postsStore[threadId]) {\n        postsStore[threadId] = [];\n    }\n    postsStore[threadId].push({\n        ...post\n    }); // オブジェクトをコピーして追加\n    console.log(`投稿追加: スレッドID=${threadId}, 投稿ID=${post.post_id}`);\n}\n// デバッグ用：データストアの内容を表示\nfunction debugDataStore() {\n    console.log(\"===== データストア内容 =====\");\n    console.log(\"スレッド数:\", threadsStore.length);\n    console.log(\"スレッドID一覧:\", threadsStore.map((t)=>t.thread_id));\n    console.log(\"投稿数:\", Object.keys(postsStore).length);\n    console.log(\"==========================\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dkRMLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRUcsU0FBUyxPQUFPLEVBQUVDLEtBQUtkLE9BQU8sQ0FBQyxDQUFDO0FBQzlEO0FBRUEscUJBQXFCO0FBQ2QsU0FBU2U7SUFDZE4sUUFBUUMsR0FBRyxDQUFDO0lBQ1pELFFBQVFDLEdBQUcsQ0FBQyxVQUFVcEIsYUFBYTBCLE1BQU07SUFDekNQLFFBQVFDLEdBQUcsQ0FBQyxhQUFhcEIsYUFBYXFCLEdBQUcsQ0FBQ0osQ0FBQUEsSUFBS0EsRUFBRWhCLFNBQVM7SUFDMURrQixRQUFRQyxHQUFHLENBQUMsUUFBUU8sT0FBT0MsSUFBSSxDQUFDbkIsWUFBWWlCLE1BQU07SUFDbERQLFFBQVFDLEdBQUcsQ0FBQztBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNWNoLy4vbGliL2RhdGFTdG9yZS5qcz81ZDFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDjgrXjg7zjg5Djg7zjgrXjgqTjg4njgaflhbHmnInjgZnjgovjg4fjg7zjgr/jgrnjg4jjgqJcclxuICogTmV4dC5qc+OBrumWi+eZuuOCteODvOODkOODvOOBp0FQSeOCqOODs+ODieODneOCpOODs+ODiOmWk+OBp+ODh+ODvOOCv+OCkuWFseacieOBmeOCi+OBn+OCgeOBq+S9v+eUqFxyXG4gKi9cclxuXHJcbi8vIOOCsOODreODvOODkOODq+WkieaVsOOBqOOBl+OBpuS/neWtmOOBmeOCi+OBn+OCgeOBruODmOODq+ODkeODvFxyXG5pZiAoIWdsb2JhbC50aHJlYWRzU3RvcmUpIHtcclxuICBnbG9iYWwudGhyZWFkc1N0b3JlID0gW1xyXG4gICAge1xyXG4gICAgICB0aHJlYWRfaWQ6ICcxJyxcclxuICAgICAgdGl0bGU6ICfjgrXjg7Pjg5fjg6vjgrnjg6zjg4Pjg4kxJyxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIGxhbmd1YWdlOiAnamEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aHJlYWRfaWQ6ICcyJyxcclxuICAgICAgdGl0bGU6ICfjgrXjg7Pjg5fjg6vjgrnjg6zjg4Pjg4kyJyxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDg2NDAwMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzYwMDAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgbGFuZ3VhZ2U6ICdqYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRocmVhZF9pZDogJzMnLFxyXG4gICAgICB0aXRsZTogJ+ODl+ODreOCsOODqeODn+ODs+OCsOOBq+OBpOOBhOOBpuOBruitsOirlicsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxNzI4MDAwMDApLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA1NDAwMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBsYW5ndWFnZTogJ2phJ1xyXG4gICAgfVxyXG4gIF07XHJcbn1cclxuXHJcbmlmICghZ2xvYmFsLnBvc3RzU3RvcmUpIHtcclxuICBnbG9iYWwucG9zdHNTdG9yZSA9IHtcclxuICAgICcxJzogW1xyXG4gICAgICB7XHJcbiAgICAgICAgcG9zdF9pZDogJzFfMScsXHJcbiAgICAgICAgdGhyZWFkX2lkOiAnMScsXHJcbiAgICAgICAgYm9keTogJ+acgOWIneOBruaKleeov+OBp+OBmScsXHJcbiAgICAgICAgYW5vbnltb3VzX2lkOiAn5Yy/5ZCNMTIzJyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzYwMDAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBsYW5ndWFnZTogJ2phJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgcG9zdF9pZDogJzFfMicsXHJcbiAgICAgICAgdGhyZWFkX2lkOiAnMScsXHJcbiAgICAgICAgYm9keTogJ+i/lOS/oeOBp+OBmScsXHJcbiAgICAgICAgYW5vbnltb3VzX2lkOiAn5Yy/5ZCNNDU2JyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgbGFuZ3VhZ2U6ICdqYSdcclxuICAgICAgfVxyXG4gICAgXSxcclxuICAgICcyJzogW1xyXG4gICAgICB7XHJcbiAgICAgICAgcG9zdF9pZDogJzJfMScsXHJcbiAgICAgICAgdGhyZWFkX2lkOiAnMicsXHJcbiAgICAgICAgYm9keTogJ+WIpeOBruOCueODrOODg+ODieOBruaKleeov+OBp+OBmScsXHJcbiAgICAgICAgYW5vbnltb3VzX2lkOiAn5Yy/5ZCNNzg5JyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQwMDAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBsYW5ndWFnZTogJ2phJ1xyXG4gICAgICB9XHJcbiAgICBdLFxyXG4gICAgJzMnOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBwb3N0X2lkOiAnM18xJyxcclxuICAgICAgICB0aHJlYWRfaWQ6ICczJyxcclxuICAgICAgICBib2R5OiAn44OX44Ot44Kw44Op44Of44Oz44Kw44Gr44Gk44GE44Gm6Kmx44GX44G+44GX44KH44GGJyxcclxuICAgICAgICBhbm9ueW1vdXNfaWQ6ICfljL/lkI0xMDEnLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxNzIwMDAwMDApLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgbGFuZ3VhZ2U6ICdqYSdcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH07XHJcbn1cclxuXHJcbi8vIOOCueODrOODg+ODieODh+ODvOOCv+S/neWtmOeUqOmFjeWIl+OCkuOCqOOCr+OCueODneODvOODiFxyXG5leHBvcnQgY29uc3QgdGhyZWFkc1N0b3JlID0gZ2xvYmFsLnRocmVhZHNTdG9yZTtcclxuXHJcbi8vIOaKleeov+ODh+ODvOOCv+S/neWtmOeUqOOCquODluOCuOOCp+OCr+ODiOOCkuOCqOOCr+OCueODneODvOODiFxyXG5leHBvcnQgY29uc3QgcG9zdHNTdG9yZSA9IGdsb2JhbC5wb3N0c1N0b3JlO1xyXG5cclxuLy8g5paw44GX44GE44K544Os44OD44OJ44KS6L+95Yqg44GZ44KL44Om44O844OG44Kj44Oq44OG44Kj6Zai5pWwXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRUaHJlYWQodGhyZWFkKSB7XHJcbiAgLy8g5pei5a2Y44Gu44K544Os44OD44OJ44KS56K66KqN77yI6YeN6KSH6L+95Yqg6Ziy5q2i77yJXHJcbiAgY29uc3QgZXhpc3RpbmdUaHJlYWQgPSB0aHJlYWRzU3RvcmUuZmluZCh0ID0+IHQudGhyZWFkX2lkID09PSB0aHJlYWQudGhyZWFkX2lkKTtcclxuICBpZiAoIWV4aXN0aW5nVGhyZWFkKSB7XHJcbiAgICB0aHJlYWRzU3RvcmUucHVzaCh7Li4udGhyZWFkfSk7IC8vIOOCquODluOCuOOCp+OCr+ODiOOCkuOCs+ODlOODvOOBl+OBpui/veWKoFxyXG4gICAgY29uc29sZS5sb2coYOOCueODrOODg+ODiei/veWKoDogSUQ9JHt0aHJlYWQudGhyZWFkX2lkfSwg44K/44Kk44OI44OrPVwiJHt0aHJlYWQudGl0bGV9XCJgKTtcclxuICAgIGNvbnNvbGUubG9nKCfnj77lnKjjga7jgrnjg6zjg4Pjg4nkuIDopqc6JywgdGhyZWFkc1N0b3JlLm1hcCh0ID0+IHQudGhyZWFkX2lkKSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDmlrDjgZfjgYTmipXnqL/jgpLov73liqDjgZnjgovjg6bjg7zjg4bjgqPjg6rjg4bjgqPplqLmlbBcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFBvc3QodGhyZWFkSWQsIHBvc3QpIHtcclxuICBpZiAoIXBvc3RzU3RvcmVbdGhyZWFkSWRdKSB7XHJcbiAgICBwb3N0c1N0b3JlW3RocmVhZElkXSA9IFtdO1xyXG4gIH1cclxuICBwb3N0c1N0b3JlW3RocmVhZElkXS5wdXNoKHsuLi5wb3N0fSk7IC8vIOOCquODluOCuOOCp+OCr+ODiOOCkuOCs+ODlOODvOOBl+OBpui/veWKoFxyXG4gIGNvbnNvbGUubG9nKGDmipXnqL/ov73liqA6IOOCueODrOODg+ODiUlEPSR7dGhyZWFkSWR9LCDmipXnqL9JRD0ke3Bvc3QucG9zdF9pZH1gKTtcclxufVxyXG5cclxuLy8g44OH44OQ44OD44Kw55So77ya44OH44O844K/44K544OI44Ki44Gu5YaF5a6544KS6KGo56S6XHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0RhdGFTdG9yZSgpIHtcclxuICBjb25zb2xlLmxvZygnPT09PT0g44OH44O844K/44K544OI44Ki5YaF5a65ID09PT09Jyk7XHJcbiAgY29uc29sZS5sb2coJ+OCueODrOODg+ODieaVsDonLCB0aHJlYWRzU3RvcmUubGVuZ3RoKTtcclxuICBjb25zb2xlLmxvZygn44K544Os44OD44OJSUTkuIDopqc6JywgdGhyZWFkc1N0b3JlLm1hcCh0ID0+IHQudGhyZWFkX2lkKSk7XHJcbiAgY29uc29sZS5sb2coJ+aKleeov+aVsDonLCBPYmplY3Qua2V5cyhwb3N0c1N0b3JlKS5sZW5ndGgpO1xyXG4gIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PScpO1xyXG59ICJdLCJuYW1lcyI6WyJnbG9iYWwiLCJ0aHJlYWRzU3RvcmUiLCJ0aHJlYWRfaWQiLCJ0aXRsZSIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwibGFuZ3VhZ2UiLCJub3ciLCJwb3N0c1N0b3JlIiwicG9zdF9pZCIsImJvZHkiLCJhbm9ueW1vdXNfaWQiLCJhZGRUaHJlYWQiLCJ0aHJlYWQiLCJleGlzdGluZ1RocmVhZCIsImZpbmQiLCJ0IiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJtYXAiLCJhZGRQb3N0IiwidGhyZWFkSWQiLCJwb3N0IiwiZGVidWdEYXRhU3RvcmUiLCJsZW5ndGgiLCJPYmplY3QiLCJrZXlzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/dataStore.js\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n// モックのSupabaseクライアント\n// 実際の環境では@supabase/supabase-jsのcreateClientを使用します\n// モックのsupabaseオブジェクト\nconst supabase = {\n    // データ取得用のモックメソッド\n    from: (table)=>({\n            select: (columns)=>({\n                    eq: ()=>({\n                            single: ()=>Promise.resolve({\n                                    data: null,\n                                    error: {\n                                        message: \"Not implemented in mock\"\n                                    }\n                                }),\n                            order: ()=>Promise.resolve({\n                                    data: [],\n                                    error: null,\n                                    count: 0\n                                })\n                        }),\n                    order: ()=>({\n                            range: ()=>Promise.resolve({\n                                    data: [],\n                                    error: null,\n                                    count: 0\n                                })\n                        })\n                }),\n            insert: (data)=>({\n                    select: ()=>({\n                            single: ()=>Promise.resolve({\n                                    data: null,\n                                    error: {\n                                        message: \"Not implemented in mock\"\n                                    }\n                                })\n                        })\n                }),\n            update: ()=>({\n                    eq: ()=>Promise.resolve({\n                            data: null,\n                            error: null\n                        })\n                })\n        }),\n    // リアルタイム機能のモック\n    channel: (name)=>({\n            on: ()=>({\n                    subscribe: ()=>({\n                            unsubscribe: ()=>{}\n                        })\n                })\n        })\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHFCQUFxQjtBQUNyQixrREFBa0Q7QUFFbEQscUJBQXFCO0FBQ2QsTUFBTUEsV0FBVztJQUN0QixpQkFBaUI7SUFDakJDLE1BQU0sQ0FBQ0MsUUFBVztZQUNoQkMsUUFBUSxDQUFDQyxVQUFhO29CQUNwQkMsSUFBSSxJQUFPOzRCQUNUQyxRQUFRLElBQU1DLFFBQVFDLE9BQU8sQ0FBQztvQ0FBRUMsTUFBTTtvQ0FBTUMsT0FBTzt3Q0FBRUMsU0FBUztvQ0FBMEI7Z0NBQUU7NEJBQzFGQyxPQUFPLElBQU1MLFFBQVFDLE9BQU8sQ0FBQztvQ0FBRUMsTUFBTSxFQUFFO29DQUFFQyxPQUFPO29DQUFNRyxPQUFPO2dDQUFFO3dCQUNqRTtvQkFDQUQsT0FBTyxJQUFPOzRCQUNaRSxPQUFPLElBQU1QLFFBQVFDLE9BQU8sQ0FBQztvQ0FBRUMsTUFBTSxFQUFFO29DQUFFQyxPQUFPO29DQUFNRyxPQUFPO2dDQUFFO3dCQUNqRTtnQkFDRjtZQUNBRSxRQUFRLENBQUNOLE9BQVU7b0JBQ2pCTixRQUFRLElBQU87NEJBQ2JHLFFBQVEsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO29DQUFFQyxNQUFNO29DQUFNQyxPQUFPO3dDQUFFQyxTQUFTO29DQUEwQjtnQ0FBRTt3QkFDNUY7Z0JBQ0Y7WUFDQUssUUFBUSxJQUFPO29CQUNiWCxJQUFJLElBQU1FLFFBQVFDLE9BQU8sQ0FBQzs0QkFBRUMsTUFBTTs0QkFBTUMsT0FBTzt3QkFBSztnQkFDdEQ7UUFDRjtJQUVBLGVBQWU7SUFDZk8sU0FBUyxDQUFDQyxPQUFVO1lBQ2xCQyxJQUFJLElBQU87b0JBQ1RDLFdBQVcsSUFBTzs0QkFDaEJDLGFBQWEsS0FBTzt3QkFDdEI7Z0JBQ0Y7UUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly81Y2gvLi9saWIvc3VwYWJhc2VDbGllbnQuanM/NWYwZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDjg6Ljg4Pjgq/jga5TdXBhYmFzZeOCr+ODqeOCpOOCouODs+ODiFxyXG4vLyDlrp/pmpvjga7nkrDlooPjgafjga9Ac3VwYWJhc2Uvc3VwYWJhc2UtanPjga5jcmVhdGVDbGllbnTjgpLkvb/nlKjjgZfjgb7jgZlcclxuXHJcbi8vIOODouODg+OCr+OBrnN1cGFiYXNl44Kq44OW44K444Kn44Kv44OIXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IHtcclxuICAvLyDjg4fjg7zjgr/lj5blvpfnlKjjga7jg6Ljg4Pjgq/jg6Hjgr3jg4Pjg4lcclxuICBmcm9tOiAodGFibGUpID0+ICh7XHJcbiAgICBzZWxlY3Q6IChjb2x1bW5zKSA9PiAoe1xyXG4gICAgICBlcTogKCkgPT4gKHtcclxuICAgICAgICBzaW5nbGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdOb3QgaW1wbGVtZW50ZWQgaW4gbW9jaycgfSB9KSxcclxuICAgICAgICBvcmRlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogW10sIGVycm9yOiBudWxsLCBjb3VudDogMCB9KSxcclxuICAgICAgfSksXHJcbiAgICAgIG9yZGVyOiAoKSA9PiAoe1xyXG4gICAgICAgIHJhbmdlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwsIGNvdW50OiAwIH0pLFxyXG4gICAgICB9KSxcclxuICAgIH0pLFxyXG4gICAgaW5zZXJ0OiAoZGF0YSkgPT4gKHtcclxuICAgICAgc2VsZWN0OiAoKSA9PiAoe1xyXG4gICAgICAgIHNpbmdsZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ05vdCBpbXBsZW1lbnRlZCBpbiBtb2NrJyB9IH0pXHJcbiAgICAgIH0pXHJcbiAgICB9KSxcclxuICAgIHVwZGF0ZTogKCkgPT4gKHtcclxuICAgICAgZXE6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pXHJcbiAgICB9KVxyXG4gIH0pLFxyXG4gIFxyXG4gIC8vIOODquOCouODq+OCv+OCpOODoOapn+iDveOBruODouODg+OCr1xyXG4gIGNoYW5uZWw6IChuYW1lKSA9PiAoe1xyXG4gICAgb246ICgpID0+ICh7XHJcbiAgICAgIHN1YnNjcmliZTogKCkgPT4gKHtcclxuICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4ge31cclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSlcclxufTsgIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiZnJvbSIsInRhYmxlIiwic2VsZWN0IiwiY29sdW1ucyIsImVxIiwic2luZ2xlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkYXRhIiwiZXJyb3IiLCJtZXNzYWdlIiwib3JkZXIiLCJjb3VudCIsInJhbmdlIiwiaW5zZXJ0IiwidXBkYXRlIiwiY2hhbm5lbCIsIm5hbWUiLCJvbiIsInN1YnNjcmliZSIsInVuc3Vic2NyaWJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./lib/translation.js":
/*!****************************!*\
  !*** ./lib/translation.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTranslation: () => (/* binding */ getTranslation),\n/* harmony export */   saveTranslation: () => (/* binding */ saveTranslation),\n/* harmony export */   translateWithDeepL: () => (/* binding */ translateWithDeepL)\n/* harmony export */ });\n/* harmony import */ var _supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabaseClient.js */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_1__]);\naxios__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// DeepL API設定\nconst DEEPL_API_URL = \"https://api-free.deepl.com/v2/translate\";\nconst DEEPL_API_KEY = \"3b6926d8-d7fe-0ab5-a139-58078d395af5:fx\" || 0; // 環境変数から取得\n/**\n * DeepL APIを使用してテキストを翻訳する\n * @param {object} params - パラメータ\n * @param {string|string[]} params.text - 翻訳するテキストまたはテキストの配列\n * @param {string} params.targetLang - ターゲット言語コード（'EN'または'JA'）\n * @returns {Promise<string[]>} - 翻訳されたテキストの配列\n */ async function translateWithDeepL({ text, targetLang }) {\n    try {\n        // 言語コードをDeepL形式に変換\n        const formattedLang = targetLang.toUpperCase();\n        // テキストを配列に確実に変換\n        const textArray = Array.isArray(text) ? text : [\n            text\n        ];\n        // 空のテキストはスキップ\n        const filteredTextArray = textArray.filter((t)=>t && t.trim() !== \"\");\n        if (filteredTextArray.length === 0) {\n            return Array.isArray(text) ? [] : [\n                \"\"\n            ];\n        }\n        console.log(`翻訳APIリクエスト: targetLang=${formattedLang}, テキスト数=${filteredTextArray.length}`);\n        // DeepL APIリクエスト\n        const response = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(DEEPL_API_URL, {\n            text: filteredTextArray,\n            target_lang: formattedLang,\n            source_lang: formattedLang === \"EN\" ? \"JA\" : \"EN\"\n        }, {\n            headers: {\n                \"Authorization\": `DeepL-Auth-Key ${DEEPL_API_KEY}`,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        // レスポンスから翻訳テキストを取り出す\n        const translations = response.data.translations.map((t)=>t.text);\n        // デバッグ出力\n        console.log(`翻訳結果: ${translations.length}件の翻訳が完了`);\n        // 配列またはシングルの値を返す\n        return Array.isArray(text) ? translations : [\n            translations[0] || \"\"\n        ];\n    } catch (error) {\n        console.error(\"DeepL API翻訳エラー:\", error.response?.data || error.message);\n        // エラー時はフォールバック：元のテキストをそのまま返す\n        return Array.isArray(text) ? text : [\n            text\n        ];\n    }\n}\n/**\n * 翻訳をデータベースに保存する\n * @param {string} sourceId - ソースID\n * @param {'thread'|'post'} sourceType - ソースタイプ\n * @param {string} language - 言語コード\n * @param {string} translatedContent - 翻訳されたコンテンツ\n * @returns {Promise} - 保存結果\n */ async function saveTranslation(sourceId, sourceType, language, translatedContent) {\n    try {\n        // Supabaseに翻訳を保存\n        const { data, error } = await _supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"translations\").upsert({\n            source_id: sourceId,\n            source_type: sourceType,\n            language,\n            translated_content: translatedContent,\n            created_at: new Date().toISOString()\n        });\n        if (error) throw error;\n        console.log(`翻訳を保存: ${sourceType} ${sourceId} to ${language}`);\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"翻訳保存エラー:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n/**\n * 翻訳をデータベースから取得する\n * @param {string} sourceId - ソースID\n * @param {'thread'|'post'} sourceType - ソースタイプ\n * @param {string} language - 言語コード\n * @returns {Promise<string|null>} - 保存された翻訳データ\n */ async function getTranslation(sourceId, sourceType, language) {\n    try {\n        // Supabaseから翻訳を取得\n        const { data, error } = await _supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"translations\").select(\"translated_content\").eq(\"source_id\", sourceId).eq(\"source_type\", sourceType).eq(\"language\", language).single();\n        if (error) throw error;\n        console.log(`翻訳を取得: ${sourceType} ${sourceId} from ${language}`);\n        return data?.translated_content || null;\n    } catch (error) {\n        console.error(\"翻訳取得エラー:\", error);\n        return null;\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUVQLElBQUksRUFBRUUsS0FBSyxFQUFFLEdBQUcsTUFBTTdCLHdEQUFRQSxDQUNuQ29DLElBQUksQ0FBQyxnQkFDTFMsTUFBTSxDQUFDLHNCQUNQQyxFQUFFLENBQUMsYUFBYWQsVUFDaEJjLEVBQUUsQ0FBQyxlQUFlYixZQUNsQmEsRUFBRSxDQUFDLFlBQVlaLFVBQ2ZhLE1BQU07UUFFVCxJQUFJbEIsT0FBTyxNQUFNQTtRQUVqQlYsUUFBUUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFYSxXQUFXLENBQUMsRUFBRUQsU0FBUyxNQUFNLEVBQUVFLFNBQVMsQ0FBQztRQUMvRCxPQUFPUCxNQUFNYSxzQkFBc0I7SUFFckMsRUFBRSxPQUFPWCxPQUFPO1FBQ2RWLFFBQVFVLEtBQUssQ0FBQyxZQUFZQTtRQUMxQixPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLzVjaC8uL2xpYi90cmFuc2xhdGlvbi5qcz9jZDI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi9zdXBhYmFzZUNsaWVudC5qcyc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG4vLyBEZWVwTCBBUEnoqK3lrppcbmNvbnN0IERFRVBMX0FQSV9VUkwgPSAnaHR0cHM6Ly9hcGktZnJlZS5kZWVwbC5jb20vdjIvdHJhbnNsYXRlJztcbmNvbnN0IERFRVBMX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5ERUVQTF9BUElfS0VZIHx8ICd5b3VyLWFwaS1rZXknOyAvLyDnkrDlooPlpInmlbDjgYvjgonlj5blvpdcblxuLyoqXG4gKiBEZWVwTCBBUEnjgpLkvb/nlKjjgZfjgabjg4bjgq3jgrnjg4jjgpLnv7voqLPjgZnjgotcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSDjg5Hjg6njg6Hjg7zjgr9cbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBwYXJhbXMudGV4dCAtIOe/u+ios+OBmeOCi+ODhuOCreOCueODiOOBvuOBn+OBr+ODhuOCreOCueODiOOBrumFjeWIl1xuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy50YXJnZXRMYW5nIC0g44K/44O844Ky44OD44OI6KiA6Kqe44Kz44O844OJ77yIJ0VOJ+OBvuOBn+OBrydKQSfvvIlcbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZ1tdPn0gLSDnv7voqLPjgZXjgozjgZ/jg4bjgq3jgrnjg4jjga7phY3liJdcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zbGF0ZVdpdGhEZWVwTCh7IHRleHQsIHRhcmdldExhbmcgfSkge1xuICB0cnkge1xuICAgIC8vIOiogOiqnuOCs+ODvOODieOCkkRlZXBM5b2i5byP44Gr5aSJ5o+bXG4gICAgY29uc3QgZm9ybWF0dGVkTGFuZyA9IHRhcmdldExhbmcudG9VcHBlckNhc2UoKTtcbiAgICBcbiAgICAvLyDjg4bjgq3jgrnjg4jjgpLphY3liJfjgavnorrlrp/jgavlpInmj5tcbiAgICBjb25zdCB0ZXh0QXJyYXkgPSBBcnJheS5pc0FycmF5KHRleHQpID8gdGV4dCA6IFt0ZXh0XTtcbiAgICBcbiAgICAvLyDnqbrjga7jg4bjgq3jgrnjg4jjga/jgrnjgq3jg4Pjg5dcbiAgICBjb25zdCBmaWx0ZXJlZFRleHRBcnJheSA9IHRleHRBcnJheS5maWx0ZXIodCA9PiB0ICYmIHQudHJpbSgpICE9PSAnJyk7XG4gICAgaWYgKGZpbHRlcmVkVGV4dEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGV4dCkgPyBbXSA6IFsnJ107XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGDnv7voqLNBUEnjg6rjgq/jgqjjgrnjg4g6IHRhcmdldExhbmc9JHtmb3JtYXR0ZWRMYW5nfSwg44OG44Kt44K544OI5pWwPSR7ZmlsdGVyZWRUZXh0QXJyYXkubGVuZ3RofWApO1xuICAgIFxuICAgIC8vIERlZXBMIEFQSeODquOCr+OCqOOCueODiFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgIERFRVBMX0FQSV9VUkwsXG4gICAgICB7XG4gICAgICAgIHRleHQ6IGZpbHRlcmVkVGV4dEFycmF5LFxuICAgICAgICB0YXJnZXRfbGFuZzogZm9ybWF0dGVkTGFuZyxcbiAgICAgICAgc291cmNlX2xhbmc6IGZvcm1hdHRlZExhbmcgPT09ICdFTicgPyAnSkEnIDogJ0VOJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBEZWVwTC1BdXRoLUtleSAke0RFRVBMX0FQSV9LRVl9YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgLy8g44Os44K544Od44Oz44K544GL44KJ57+76Kiz44OG44Kt44K544OI44KS5Y+W44KK5Ye644GZXG4gICAgY29uc3QgdHJhbnNsYXRpb25zID0gcmVzcG9uc2UuZGF0YS50cmFuc2xhdGlvbnMubWFwKHQgPT4gdC50ZXh0KTtcbiAgICBcbiAgICAvLyDjg4fjg5Djg4PjgrDlh7rliptcbiAgICBjb25zb2xlLmxvZyhg57+76Kiz57WQ5p6cOiAke3RyYW5zbGF0aW9ucy5sZW5ndGh95Lu244Gu57+76Kiz44GM5a6M5LqGYCk7XG4gICAgXG4gICAgLy8g6YWN5YiX44G+44Gf44Gv44K344Oz44Kw44Or44Gu5YCk44KS6L+U44GZXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0cmFuc2xhdGlvbnMgOiBbdHJhbnNsYXRpb25zWzBdIHx8ICcnXTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEZWVwTCBBUEnnv7voqLPjgqjjg6njg7w6JywgZXJyb3IucmVzcG9uc2U/LmRhdGEgfHwgZXJyb3IubWVzc2FnZSk7XG4gICAgXG4gICAgLy8g44Ko44Op44O85pmC44Gv44OV44Kp44O844Or44OQ44OD44Kv77ya5YWD44Gu44OG44Kt44K544OI44KS44Gd44Gu44G+44G+6L+U44GZXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0ZXh0IDogW3RleHRdO1xuICB9XG59XG5cbi8qKlxuICog57+76Kiz44KS44OH44O844K/44OZ44O844K544Gr5L+d5a2Y44GZ44KLXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlSWQgLSDjgr3jg7zjgrlJRFxuICogQHBhcmFtIHsndGhyZWFkJ3wncG9zdCd9IHNvdXJjZVR5cGUgLSDjgr3jg7zjgrnjgr/jgqTjg5dcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIOiogOiqnuOCs+ODvOODiVxuICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0ZWRDb250ZW50IC0g57+76Kiz44GV44KM44Gf44Kz44Oz44OG44Oz44OEXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSDkv53lrZjntZDmnpxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVUcmFuc2xhdGlvbihzb3VyY2VJZCwgc291cmNlVHlwZSwgbGFuZ3VhZ2UsIHRyYW5zbGF0ZWRDb250ZW50KSB7XG4gIHRyeSB7XG4gICAgLy8gU3VwYWJhc2Xjgavnv7voqLPjgpLkv53lrZhcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3RyYW5zbGF0aW9ucycpXG4gICAgICAudXBzZXJ0KHtcbiAgICAgICAgc291cmNlX2lkOiBzb3VyY2VJZCxcbiAgICAgICAgc291cmNlX3R5cGU6IHNvdXJjZVR5cGUsXG4gICAgICAgIGxhbmd1YWdlLFxuICAgICAgICB0cmFuc2xhdGVkX2NvbnRlbnQ6IHRyYW5zbGF0ZWRDb250ZW50LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg57+76Kiz44KS5L+d5a2YOiAke3NvdXJjZVR5cGV9ICR7c291cmNlSWR9IHRvICR7bGFuZ3VhZ2V9YCk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfnv7voqLPkv53lrZjjgqjjg6njg7w6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gIH1cbn1cblxuLyoqXG4gKiDnv7voqLPjgpLjg4fjg7zjgr/jg5njg7zjgrnjgYvjgonlj5blvpfjgZnjgotcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VJZCAtIOOCveODvOOCuUlEXG4gKiBAcGFyYW0geyd0aHJlYWQnfCdwb3N0J30gc291cmNlVHlwZSAtIOOCveODvOOCueOCv+OCpOODl1xuICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0g6KiA6Kqe44Kz44O844OJXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmd8bnVsbD59IC0g5L+d5a2Y44GV44KM44Gf57+76Kiz44OH44O844K/XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihzb3VyY2VJZCwgc291cmNlVHlwZSwgbGFuZ3VhZ2UpIHtcbiAgdHJ5IHtcbiAgICAvLyBTdXBhYmFzZeOBi+OCiee/u+ios+OCkuWPluW+l1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndHJhbnNsYXRpb25zJylcbiAgICAgIC5zZWxlY3QoJ3RyYW5zbGF0ZWRfY29udGVudCcpXG4gICAgICAuZXEoJ3NvdXJjZV9pZCcsIHNvdXJjZUlkKVxuICAgICAgLmVxKCdzb3VyY2VfdHlwZScsIHNvdXJjZVR5cGUpXG4gICAgICAuZXEoJ2xhbmd1YWdlJywgbGFuZ3VhZ2UpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDnv7voqLPjgpLlj5blvpc6ICR7c291cmNlVHlwZX0gJHtzb3VyY2VJZH0gZnJvbSAke2xhbmd1YWdlfWApO1xuICAgIHJldHVybiBkYXRhPy50cmFuc2xhdGVkX2NvbnRlbnQgfHwgbnVsbDtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfnv7voqLPlj5blvpfjgqjjg6njg7w6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59ICJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImF4aW9zIiwiREVFUExfQVBJX1VSTCIsIkRFRVBMX0FQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwidHJhbnNsYXRlV2l0aERlZXBMIiwidGV4dCIsInRhcmdldExhbmciLCJmb3JtYXR0ZWRMYW5nIiwidG9VcHBlckNhc2UiLCJ0ZXh0QXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJmaWx0ZXJlZFRleHRBcnJheSIsImZpbHRlciIsInQiLCJ0cmltIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwicG9zdCIsInRhcmdldF9sYW5nIiwic291cmNlX2xhbmciLCJoZWFkZXJzIiwidHJhbnNsYXRpb25zIiwiZGF0YSIsIm1hcCIsImVycm9yIiwibWVzc2FnZSIsInNhdmVUcmFuc2xhdGlvbiIsInNvdXJjZUlkIiwic291cmNlVHlwZSIsImxhbmd1YWdlIiwidHJhbnNsYXRlZENvbnRlbnQiLCJmcm9tIiwidXBzZXJ0Iiwic291cmNlX2lkIiwic291cmNlX3R5cGUiLCJ0cmFuc2xhdGVkX2NvbnRlbnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2V0VHJhbnNsYXRpb24iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/translation.js\n");

/***/ }),

/***/ "(api)/./pages/api/threads/index.js":
/*!************************************!*\
  !*** ./pages/api/threads/index.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/supabaseClient.js */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var _lib_translation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/translation.js */ \"(api)/./lib/translation.js\");\n/* harmony import */ var _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/dataStore.js */ \"(api)/./lib/dataStore.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// APIルートハンドラー実行時にデータストアの内容を確認\n(0,_lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.debugDataStore)();\nasync function handler(req, res) {\n    const { method, query } = req;\n    const lang = query.lang || \"ja\";\n    const page = parseInt(query.page || \"1\");\n    const limit = 20;\n    const offset = (page - 1) * limit;\n    switch(method){\n        case \"GET\":\n            try {\n                // 保存されているスレッドを取得\n                let threads = [\n                    ..._lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore\n                ];\n                // スレッドを更新日時でソート\n                threads.sort((a, b)=>new Date(b.updated_at) - new Date(a.updated_at));\n                // ページング\n                const startIndex = offset;\n                const endIndex = Math.min(offset + limit, threads.length);\n                const paginatedThreads = threads.slice(startIndex, endIndex);\n                // 言語変換（英語の場合）\n                if (lang === \"en\") {\n                    const translatedThreads = await Promise.all(paginatedThreads.map(async (thread)=>{\n                        // 常に新しい翻訳を取得する\n                        try {\n                            const [translatedTitle] = await (0,_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__.translateWithDeepL)({\n                                text: thread.title,\n                                targetLang: \"EN\"\n                            });\n                            // 次回使用するためにスレッドに保存\n                            const originalThread = _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.find((t)=>t.thread_id === thread.thread_id);\n                            if (originalThread) {\n                                originalThread.title_en = translatedTitle;\n                            }\n                            console.log(`スレッド一覧翻訳: \"${thread.title}\" -> \"${translatedTitle}\"`);\n                            return {\n                                ...thread,\n                                title: translatedTitle\n                            };\n                        } catch (error) {\n                            console.error(\"Error translating thread title:\", error);\n                            // エラー時は既存の翻訳を使用\n                            if (thread.title_en) {\n                                return {\n                                    ...thread,\n                                    title: thread.title_en\n                                };\n                            }\n                            return thread;\n                        }\n                    }));\n                    return res.status(200).json({\n                        threads: translatedThreads,\n                        totalCount: threads.length\n                    });\n                }\n                return res.status(200).json({\n                    threads: paginatedThreads,\n                    totalCount: threads.length\n                });\n            } catch (error) {\n                console.error(\"Error fetching threads:\", error);\n                return res.status(500).json({\n                    error: \"Internal Server Error\"\n                });\n            }\n            break;\n        case \"POST\":\n            try {\n                const { title, body, language = \"ja\" } = req.body;\n                if (!title || !body) {\n                    return res.status(400).json({\n                        error: \"Title and body are required\"\n                    });\n                }\n                // 匿名ID生成\n                const anonymousId = `匿名${Math.floor(Math.random() * 1000)}`;\n                // 新しいスレッドID\n                const thread_id = Date.now().toString();\n                // 新しいスレッドを作成\n                const newThread = {\n                    thread_id,\n                    title,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString(),\n                    language\n                };\n                // 最初の投稿を作成\n                const newPost = {\n                    post_id: `${thread_id}_1`,\n                    thread_id,\n                    body,\n                    anonymous_id: anonymousId,\n                    created_at: new Date().toISOString(),\n                    language\n                };\n                // スレッドと投稿を保存\n                (0,_lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.addThread)(newThread);\n                (0,_lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.addPost)(thread_id, newPost);\n                // スレッドが正しく保存されたか確認\n                const savedThread = _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.find((t)=>t.thread_id === thread_id);\n                if (!savedThread) {\n                    console.error(\"スレッドの保存に失敗しました。手動で追加します。\");\n                    _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.push({\n                        ...newThread\n                    });\n                    console.log(\"手動追加後のスレッド一覧:\", _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.map((t)=>t.thread_id));\n                }\n                console.log(`新規スレッド作成: ID=${thread_id}, タイトル=\"${title}\"`);\n                console.log(\"現在のスレッド一覧:\", _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.map((t)=>t.thread_id));\n                // 英語の場合はタイトルを翻訳\n                if (language === \"ja\") {\n                    try {\n                        const [translatedTitle] = await (0,_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__.translateWithDeepL)({\n                            text: title,\n                            targetLang: \"EN\"\n                        });\n                        // 保存済みスレッドに翻訳を追加\n                        const threadToUpdate = _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.find((t)=>t.thread_id === thread_id);\n                        if (threadToUpdate) {\n                            threadToUpdate.title_en = translatedTitle;\n                        }\n                        const [translatedBody] = await (0,_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__.translateWithDeepL)({\n                            text: body,\n                            targetLang: \"EN\"\n                        });\n                        // 保存済み投稿に翻訳を追加\n                        const postToUpdate = _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.postsStore[thread_id]?.find((p)=>p.post_id === newPost.post_id);\n                        if (postToUpdate) {\n                            postToUpdate.body_en = translatedBody;\n                        }\n                    } catch (error) {\n                        console.error(\"Error translating new thread title:\", error);\n                    }\n                }\n                return res.status(201).json({\n                    thread: newThread,\n                    post: newPost,\n                    anonymousId\n                });\n            } catch (error) {\n                console.error(\"Error creating thread:\", error);\n                return res.status(500).json({\n                    error: \"Internal Server Error\"\n                });\n            }\n            break;\n        default:\n            res.setHeader(\"Allow\", [\n                \"GET\",\n                \"POST\"\n            ]);\n            return res.status(405).json({\n                error: `Method ${method} Not Allowed`\n            });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDdEMsT0FBTzlELElBQUlzQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFRixPQUFPLENBQUMsT0FBTyxFQUFFcEMsT0FBTyxZQUFZLENBQUM7WUFBQztJQUN4RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNWNoLy4vcGFnZXMvYXBpL3RocmVhZHMvaW5kZXguanM/MDRmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uLy4uLy4uL2xpYi9zdXBhYmFzZUNsaWVudC5qcyc7XG5pbXBvcnQgeyB0cmFuc2xhdGVXaXRoRGVlcEwsIGdldFRyYW5zbGF0aW9uLCBzYXZlVHJhbnNsYXRpb24gfSBmcm9tICcuLi8uLi8uLi9saWIvdHJhbnNsYXRpb24uanMnO1xuaW1wb3J0IHsgdGhyZWFkc1N0b3JlLCBwb3N0c1N0b3JlLCBhZGRUaHJlYWQsIGFkZFBvc3QsIGRlYnVnRGF0YVN0b3JlIH0gZnJvbSAnLi4vLi4vLi4vbGliL2RhdGFTdG9yZS5qcyc7XG5cbi8vIEFQSeODq+ODvOODiOODj+ODs+ODieODqeODvOWun+ihjOaZguOBq+ODh+ODvOOCv+OCueODiOOCouOBruWGheWuueOCkueiuuiqjVxuZGVidWdEYXRhU3RvcmUoKTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCB7IG1ldGhvZCwgcXVlcnkgfSA9IHJlcTtcbiAgY29uc3QgbGFuZyA9IHF1ZXJ5LmxhbmcgfHwgJ2phJztcbiAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHF1ZXJ5LnBhZ2UgfHwgJzEnKTtcbiAgY29uc3QgbGltaXQgPSAyMDtcbiAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xuXG4gIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgY2FzZSAnR0VUJzpcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOS/neWtmOOBleOCjOOBpuOBhOOCi+OCueODrOODg+ODieOCkuWPluW+l1xuICAgICAgICBsZXQgdGhyZWFkcyA9IFsuLi50aHJlYWRzU3RvcmVdO1xuICAgICAgICBcbiAgICAgICAgLy8g44K544Os44OD44OJ44KS5pu05paw5pel5pmC44Gn44K944O844OIXG4gICAgICAgIHRocmVhZHMuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi51cGRhdGVkX2F0KSAtIG5ldyBEYXRlKGEudXBkYXRlZF9hdCkpO1xuICAgICAgICBcbiAgICAgICAgLy8g44Oa44O844K444Oz44KwXG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBvZmZzZXQ7XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5taW4ob2Zmc2V0ICsgbGltaXQsIHRocmVhZHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgcGFnaW5hdGVkVGhyZWFkcyA9IHRocmVhZHMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgICAgICBcbiAgICAgICAgLy8g6KiA6Kqe5aSJ5o+b77yI6Iux6Kqe44Gu5aC05ZCI77yJXG4gICAgICAgIGlmIChsYW5nID09PSAnZW4nKSB7XG4gICAgICAgICAgY29uc3QgdHJhbnNsYXRlZFRocmVhZHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIHBhZ2luYXRlZFRocmVhZHMubWFwKGFzeW5jICh0aHJlYWQpID0+IHtcbiAgICAgICAgICAgICAgLy8g5bi444Gr5paw44GX44GE57+76Kiz44KS5Y+W5b6X44GZ44KLXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3RyYW5zbGF0ZWRUaXRsZV0gPSBhd2FpdCB0cmFuc2xhdGVXaXRoRGVlcEwoe1xuICAgICAgICAgICAgICAgICAgdGV4dDogdGhyZWFkLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0TGFuZzogJ0VOJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOasoeWbnuS9v+eUqOOBmeOCi+OBn+OCgeOBq+OCueODrOODg+ODieOBq+S/neWtmFxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGhyZWFkID0gdGhyZWFkc1N0b3JlLmZpbmQodCA9PiB0LnRocmVhZF9pZCA9PT0gdGhyZWFkLnRocmVhZF9pZCk7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsVGhyZWFkKSB7XG4gICAgICAgICAgICAgICAgICBvcmlnaW5hbFRocmVhZC50aXRsZV9lbiA9IHRyYW5zbGF0ZWRUaXRsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOOCueODrOODg+ODieS4gOimp+e/u+ioszogXCIke3RocmVhZC50aXRsZX1cIiAtPiBcIiR7dHJhbnNsYXRlZFRpdGxlfVwiYCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLnRocmVhZCxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0cmFuc2xhdGVkVGl0bGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRyYW5zbGF0aW5nIHRocmVhZCB0aXRsZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgLy8g44Ko44Op44O85pmC44Gv5pei5a2Y44Gu57+76Kiz44KS5L2/55SoXG4gICAgICAgICAgICAgICAgaWYgKHRocmVhZC50aXRsZV9lbikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4udGhyZWFkLCB0aXRsZTogdGhyZWFkLnRpdGxlX2VuIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aHJlYWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgdGhyZWFkczogdHJhbnNsYXRlZFRocmVhZHMsXG4gICAgICAgICAgICB0b3RhbENvdW50OiB0aHJlYWRzLmxlbmd0aFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIHRocmVhZHM6IHBhZ2luYXRlZFRocmVhZHMsXG4gICAgICAgICAgdG90YWxDb3VudDogdGhyZWFkcy5sZW5ndGhcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHRocmVhZHM6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICAgIFxuICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyB0aXRsZSwgYm9keSwgbGFuZ3VhZ2UgPSAnamEnIH0gPSByZXEuYm9keTtcbiAgICAgICAgXG4gICAgICAgIGlmICghdGl0bGUgfHwgIWJvZHkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1RpdGxlIGFuZCBib2R5IGFyZSByZXF1aXJlZCcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIOWMv+WQjUlE55Sf5oiQXG4gICAgICAgIGNvbnN0IGFub255bW91c0lkID0gYOWMv+WQjSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCl9YDtcbiAgICAgICAgXG4gICAgICAgIC8vIOaWsOOBl+OBhOOCueODrOODg+ODiUlEXG4gICAgICAgIGNvbnN0IHRocmVhZF9pZCA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOaWsOOBl+OBhOOCueODrOODg+ODieOCkuS9nOaIkFxuICAgICAgICBjb25zdCBuZXdUaHJlYWQgPSB7XG4gICAgICAgICAgdGhyZWFkX2lkLFxuICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgbGFuZ3VhZ2VcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIOacgOWIneOBruaKleeov+OCkuS9nOaIkFxuICAgICAgICBjb25zdCBuZXdQb3N0ID0ge1xuICAgICAgICAgIHBvc3RfaWQ6IGAke3RocmVhZF9pZH1fMWAsXG4gICAgICAgICAgdGhyZWFkX2lkLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgYW5vbnltb3VzX2lkOiBhbm9ueW1vdXNJZCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgbGFuZ3VhZ2VcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIOOCueODrOODg+ODieOBqOaKleeov+OCkuS/neWtmFxuICAgICAgICBhZGRUaHJlYWQobmV3VGhyZWFkKTtcbiAgICAgICAgYWRkUG9zdCh0aHJlYWRfaWQsIG5ld1Bvc3QpO1xuICAgICAgICBcbiAgICAgICAgLy8g44K544Os44OD44OJ44GM5q2j44GX44GP5L+d5a2Y44GV44KM44Gf44GL56K66KqNXG4gICAgICAgIGNvbnN0IHNhdmVkVGhyZWFkID0gdGhyZWFkc1N0b3JlLmZpbmQodCA9PiB0LnRocmVhZF9pZCA9PT0gdGhyZWFkX2lkKTtcbiAgICAgICAgaWYgKCFzYXZlZFRocmVhZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+OCueODrOODg+ODieOBruS/neWtmOOBq+WkseaVl+OBl+OBvuOBl+OBn+OAguaJi+WLleOBp+i/veWKoOOBl+OBvuOBmeOAgicpO1xuICAgICAgICAgIHRocmVhZHNTdG9yZS5wdXNoKHsuLi5uZXdUaHJlYWR9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5omL5YuV6L+95Yqg5b6M44Gu44K544Os44OD44OJ5LiA6KanOicsIHRocmVhZHNTdG9yZS5tYXAodCA9PiB0LnRocmVhZF9pZCkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhg5paw6KaP44K544Os44OD44OJ5L2c5oiQOiBJRD0ke3RocmVhZF9pZH0sIOOCv+OCpOODiOODqz1cIiR7dGl0bGV9XCJgKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+ePvuWcqOOBruOCueODrOODg+ODieS4gOimpzonLCB0aHJlYWRzU3RvcmUubWFwKHQgPT4gdC50aHJlYWRfaWQpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOiLseiqnuOBruWgtOWQiOOBr+OCv+OCpOODiOODq+OCkue/u+ios1xuICAgICAgICBpZiAobGFuZ3VhZ2UgPT09ICdqYScpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgW3RyYW5zbGF0ZWRUaXRsZV0gPSBhd2FpdCB0cmFuc2xhdGVXaXRoRGVlcEwoe1xuICAgICAgICAgICAgICB0ZXh0OiB0aXRsZSxcbiAgICAgICAgICAgICAgdGFyZ2V0TGFuZzogJ0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOS/neWtmOa4iOOBv+OCueODrOODg+ODieOBq+e/u+ios+OCkui/veWKoFxuICAgICAgICAgICAgY29uc3QgdGhyZWFkVG9VcGRhdGUgPSB0aHJlYWRzU3RvcmUuZmluZCh0ID0+IHQudGhyZWFkX2lkID09PSB0aHJlYWRfaWQpO1xuICAgICAgICAgICAgaWYgKHRocmVhZFRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgIHRocmVhZFRvVXBkYXRlLnRpdGxlX2VuID0gdHJhbnNsYXRlZFRpdGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBbdHJhbnNsYXRlZEJvZHldID0gYXdhaXQgdHJhbnNsYXRlV2l0aERlZXBMKHtcbiAgICAgICAgICAgICAgdGV4dDogYm9keSxcbiAgICAgICAgICAgICAgdGFyZ2V0TGFuZzogJ0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOS/neWtmOa4iOOBv+aKleeov+OBq+e/u+ios+OCkui/veWKoFxuICAgICAgICAgICAgY29uc3QgcG9zdFRvVXBkYXRlID0gcG9zdHNTdG9yZVt0aHJlYWRfaWRdPy5maW5kKHAgPT4gcC5wb3N0X2lkID09PSBuZXdQb3N0LnBvc3RfaWQpO1xuICAgICAgICAgICAgaWYgKHBvc3RUb1VwZGF0ZSkge1xuICAgICAgICAgICAgICBwb3N0VG9VcGRhdGUuYm9keV9lbiA9IHRyYW5zbGF0ZWRCb2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmFuc2xhdGluZyBuZXcgdGhyZWFkIHRpdGxlOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgdGhyZWFkOiBuZXdUaHJlYWQsXG4gICAgICAgICAgcG9zdDogbmV3UG9zdCxcbiAgICAgICAgICBhbm9ueW1vdXNJZFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB0aHJlYWQ6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICAgIFxuICAgIGRlZmF1bHQ6XG4gICAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJywgJ1BPU1QnXSk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogYE1ldGhvZCAke21ldGhvZH0gTm90IEFsbG93ZWRgIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsInRyYW5zbGF0ZVdpdGhEZWVwTCIsImdldFRyYW5zbGF0aW9uIiwic2F2ZVRyYW5zbGF0aW9uIiwidGhyZWFkc1N0b3JlIiwicG9zdHNTdG9yZSIsImFkZFRocmVhZCIsImFkZFBvc3QiLCJkZWJ1Z0RhdGFTdG9yZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJxdWVyeSIsImxhbmciLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsIm9mZnNldCIsInRocmVhZHMiLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwidXBkYXRlZF9hdCIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsIk1hdGgiLCJtaW4iLCJsZW5ndGgiLCJwYWdpbmF0ZWRUaHJlYWRzIiwic2xpY2UiLCJ0cmFuc2xhdGVkVGhyZWFkcyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJ0aHJlYWQiLCJ0cmFuc2xhdGVkVGl0bGUiLCJ0ZXh0IiwidGl0bGUiLCJ0YXJnZXRMYW5nIiwib3JpZ2luYWxUaHJlYWQiLCJmaW5kIiwidCIsInRocmVhZF9pZCIsInRpdGxlX2VuIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic3RhdHVzIiwianNvbiIsInRvdGFsQ291bnQiLCJib2R5IiwibGFuZ3VhZ2UiLCJhbm9ueW1vdXNJZCIsImZsb29yIiwicmFuZG9tIiwibm93IiwidG9TdHJpbmciLCJuZXdUaHJlYWQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJuZXdQb3N0IiwicG9zdF9pZCIsImFub255bW91c19pZCIsInNhdmVkVGhyZWFkIiwicHVzaCIsInRocmVhZFRvVXBkYXRlIiwidHJhbnNsYXRlZEJvZHkiLCJwb3N0VG9VcGRhdGUiLCJwIiwiYm9keV9lbiIsInBvc3QiLCJzZXRIZWFkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/threads/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fthreads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cthreads%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();