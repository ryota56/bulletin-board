"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/posts";
exports.ids = ["pages/api/posts"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cposts.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cposts.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_posts_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\posts.js */ \"(api)/./pages/api/posts.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_posts_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_posts_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_posts_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_posts_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/posts\",\n        pathname: \"/api/posts\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_posts_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnBvc3RzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNwb3N0cy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNtRDtBQUNuRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovLzVjaC8/ZGJmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHBvc3RzLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcG9zdHNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wb3N0c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cposts.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dataStore.js":
/*!**************************!*\
  !*** ./lib/dataStore.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPost: () => (/* binding */ addPost),\n/* harmony export */   addThread: () => (/* binding */ addThread),\n/* harmony export */   debugDataStore: () => (/* binding */ debugDataStore),\n/* harmony export */   postsStore: () => (/* binding */ postsStore),\n/* harmony export */   threadsStore: () => (/* binding */ threadsStore)\n/* harmony export */ });\n/**\r\n * サーバーサイドで共有するデータストア\r\n * Next.jsの開発サーバーでAPIエンドポイント間でデータを共有するために使用\r\n */ // グローバル変数として保存するためのヘルパー\nif (!global.threadsStore) {\n    global.threadsStore = [\n        {\n            thread_id: \"1\",\n            title: \"サンプルスレッド1\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n            language: \"ja\"\n        },\n        {\n            thread_id: \"2\",\n            title: \"サンプルスレッド2\",\n            created_at: new Date(Date.now() - 86400000).toISOString(),\n            updated_at: new Date(Date.now() - 3600000).toISOString(),\n            language: \"ja\"\n        },\n        {\n            thread_id: \"3\",\n            title: \"プログラミングについての議論\",\n            created_at: new Date(Date.now() - 172800000).toISOString(),\n            updated_at: new Date(Date.now() - 5400000).toISOString(),\n            language: \"ja\"\n        }\n    ];\n}\nif (!global.postsStore) {\n    global.postsStore = {\n        \"1\": [\n            {\n                post_id: \"1_1\",\n                thread_id: \"1\",\n                body: \"最初の投稿です\",\n                anonymous_id: \"匿名123\",\n                created_at: new Date(Date.now() - 3600000).toISOString(),\n                language: \"ja\"\n            },\n            {\n                post_id: \"1_2\",\n                thread_id: \"1\",\n                body: \"返信です\",\n                anonymous_id: \"匿名456\",\n                created_at: new Date().toISOString(),\n                language: \"ja\"\n            }\n        ],\n        \"2\": [\n            {\n                post_id: \"2_1\",\n                thread_id: \"2\",\n                body: \"別のスレッドの投稿です\",\n                anonymous_id: \"匿名789\",\n                created_at: new Date(Date.now() - 2400000).toISOString(),\n                language: \"ja\"\n            }\n        ],\n        \"3\": [\n            {\n                post_id: \"3_1\",\n                thread_id: \"3\",\n                body: \"プログラミングについて話しましょう\",\n                anonymous_id: \"匿名101\",\n                created_at: new Date(Date.now() - 172000000).toISOString(),\n                language: \"ja\"\n            }\n        ]\n    };\n}\n// スレッドデータ保存用配列をエクスポート\nconst threadsStore = global.threadsStore;\n// 投稿データ保存用オブジェクトをエクスポート\nconst postsStore = global.postsStore;\n// 新しいスレッドを追加するユーティリティ関数\nfunction addThread(thread) {\n    // 既存のスレッドを確認（重複追加防止）\n    const existingThread = threadsStore.find((t)=>t.thread_id === thread.thread_id);\n    if (!existingThread) {\n        threadsStore.push({\n            ...thread\n        }); // オブジェクトをコピーして追加\n        console.log(`スレッド追加: ID=${thread.thread_id}, タイトル=\"${thread.title}\"`);\n        console.log(\"現在のスレッド一覧:\", threadsStore.map((t)=>t.thread_id));\n    }\n}\n// 新しい投稿を追加するユーティリティ関数\nfunction addPost(threadId, post) {\n    if (!postsStore[threadId]) {\n        postsStore[threadId] = [];\n    }\n    postsStore[threadId].push({\n        ...post\n    }); // オブジェクトをコピーして追加\n    console.log(`投稿追加: スレッドID=${threadId}, 投稿ID=${post.post_id}`);\n}\n// デバッグ用：データストアの内容を表示\nfunction debugDataStore() {\n    console.log(\"===== データストア内容 =====\");\n    console.log(\"スレッド数:\", threadsStore.length);\n    console.log(\"スレッドID一覧:\", threadsStore.map((t)=>t.thread_id));\n    console.log(\"投稿数:\", Object.keys(postsStore).length);\n    console.log(\"==========================\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGF0YVN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBRUQsd0JBQXdCO0FBQ3hCLElBQUksQ0FBQ0EsT0FBT0MsWUFBWSxFQUFFO0lBQ3hCRCxPQUFPQyxZQUFZLEdBQUc7UUFDcEI7WUFDRUMsV0FBVztZQUNYQyxPQUFPO1lBQ1BDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztZQUNsQ0MsWUFBWSxJQUFJRixPQUFPQyxXQUFXO1lBQ2xDRSxVQUFVO1FBQ1o7UUFDQTtZQUNFTixXQUFXO1lBQ1hDLE9BQU87WUFDUEMsWUFBWSxJQUFJQyxLQUFLQSxLQUFLSSxHQUFHLEtBQUssVUFBVUgsV0FBVztZQUN2REMsWUFBWSxJQUFJRixLQUFLQSxLQUFLSSxHQUFHLEtBQUssU0FBU0gsV0FBVztZQUN0REUsVUFBVTtRQUNaO1FBQ0E7WUFDRU4sV0FBVztZQUNYQyxPQUFPO1lBQ1BDLFlBQVksSUFBSUMsS0FBS0EsS0FBS0ksR0FBRyxLQUFLLFdBQVdILFdBQVc7WUFDeERDLFlBQVksSUFBSUYsS0FBS0EsS0FBS0ksR0FBRyxLQUFLLFNBQVNILFdBQVc7WUFDdERFLFVBQVU7UUFDWjtLQUNEO0FBQ0g7QUFFQSxJQUFJLENBQUNSLE9BQU9VLFVBQVUsRUFBRTtJQUN0QlYsT0FBT1UsVUFBVSxHQUFHO1FBQ2xCLEtBQUs7WUFDSDtnQkFDRUMsU0FBUztnQkFDVFQsV0FBVztnQkFDWFUsTUFBTTtnQkFDTkMsY0FBYztnQkFDZFQsWUFBWSxJQUFJQyxLQUFLQSxLQUFLSSxHQUFHLEtBQUssU0FBU0gsV0FBVztnQkFDdERFLFVBQVU7WUFDWjtZQUNBO2dCQUNFRyxTQUFTO2dCQUNUVCxXQUFXO2dCQUNYVSxNQUFNO2dCQUNOQyxjQUFjO2dCQUNkVCxZQUFZLElBQUlDLE9BQU9DLFdBQVc7Z0JBQ2xDRSxVQUFVO1lBQ1o7U0FDRDtRQUNELEtBQUs7WUFDSDtnQkFDRUcsU0FBUztnQkFDVFQsV0FBVztnQkFDWFUsTUFBTTtnQkFDTkMsY0FBYztnQkFDZFQsWUFBWSxJQUFJQyxLQUFLQSxLQUFLSSxHQUFHLEtBQUssU0FBU0gsV0FBVztnQkFDdERFLFVBQVU7WUFDWjtTQUNEO1FBQ0QsS0FBSztZQUNIO2dCQUNFRyxTQUFTO2dCQUNUVCxXQUFXO2dCQUNYVSxNQUFNO2dCQUNOQyxjQUFjO2dCQUNkVCxZQUFZLElBQUlDLEtBQUtBLEtBQUtJLEdBQUcsS0FBSyxXQUFXSCxXQUFXO2dCQUN4REUsVUFBVTtZQUNaO1NBQ0Q7SUFDSDtBQUNGO0FBRUEsc0JBQXNCO0FBQ2YsTUFBTVAsZUFBZUQsT0FBT0MsWUFBWSxDQUFDO0FBRWhELHdCQUF3QjtBQUNqQixNQUFNUyxhQUFhVixPQUFPVSxVQUFVLENBQUM7QUFFNUMsd0JBQXdCO0FBQ2pCLFNBQVNJLFVBQVVDLE1BQU07SUFDOUIscUJBQXFCO0lBQ3JCLE1BQU1DLGlCQUFpQmYsYUFBYWdCLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRWhCLFNBQVMsS0FBS2EsT0FBT2IsU0FBUztJQUM5RSxJQUFJLENBQUNjLGdCQUFnQjtRQUNuQmYsYUFBYWtCLElBQUksQ0FBQztZQUFDLEdBQUdKLE1BQU07UUFBQSxJQUFJLGlCQUFpQjtRQUNqREssUUFBUUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFTixPQUFPYixTQUFTLENBQUMsUUFBUSxFQUFFYSxPQUFPWixLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3BFaUIsUUFBUUMsR0FBRyxDQUFDLGNBQWNwQixhQUFhcUIsR0FBRyxDQUFDSixDQUFBQSxJQUFLQSxFQUFFaEIsU0FBUztJQUM3RDtBQUNGO0FBRUEsc0JBQXNCO0FBQ2YsU0FBU3FCLFFBQVFDLFFBQVEsRUFBRUMsSUFBSTtJQUNwQyxJQUFJLENBQUNmLFVBQVUsQ0FBQ2MsU0FBUyxFQUFFO1FBQ3pCZCxVQUFVLENBQUNjLFNBQVMsR0FBRyxFQUFFO0lBQzNCO0lBQ0FkLFVBQVUsQ0FBQ2MsU0FBUyxDQUFDTCxJQUFJLENBQUM7UUFBQyxHQUFHTSxJQUFJO0lBQUEsSUFBSSxpQkFBaUI7SUFDdkRMLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRUcsU0FBUyxPQUFPLEVBQUVDLEtBQUtkLE9BQU8sQ0FBQyxDQUFDO0FBQzlEO0FBRUEscUJBQXFCO0FBQ2QsU0FBU2U7SUFDZE4sUUFBUUMsR0FBRyxDQUFDO0lBQ1pELFFBQVFDLEdBQUcsQ0FBQyxVQUFVcEIsYUFBYTBCLE1BQU07SUFDekNQLFFBQVFDLEdBQUcsQ0FBQyxhQUFhcEIsYUFBYXFCLEdBQUcsQ0FBQ0osQ0FBQUEsSUFBS0EsRUFBRWhCLFNBQVM7SUFDMURrQixRQUFRQyxHQUFHLENBQUMsUUFBUU8sT0FBT0MsSUFBSSxDQUFDbkIsWUFBWWlCLE1BQU07SUFDbERQLFFBQVFDLEdBQUcsQ0FBQztBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNWNoLy4vbGliL2RhdGFTdG9yZS5qcz81ZDFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDjgrXjg7zjg5Djg7zjgrXjgqTjg4njgaflhbHmnInjgZnjgovjg4fjg7zjgr/jgrnjg4jjgqJcclxuICogTmV4dC5qc+OBrumWi+eZuuOCteODvOODkOODvOOBp0FQSeOCqOODs+ODieODneOCpOODs+ODiOmWk+OBp+ODh+ODvOOCv+OCkuWFseacieOBmeOCi+OBn+OCgeOBq+S9v+eUqFxyXG4gKi9cclxuXHJcbi8vIOOCsOODreODvOODkOODq+WkieaVsOOBqOOBl+OBpuS/neWtmOOBmeOCi+OBn+OCgeOBruODmOODq+ODkeODvFxyXG5pZiAoIWdsb2JhbC50aHJlYWRzU3RvcmUpIHtcclxuICBnbG9iYWwudGhyZWFkc1N0b3JlID0gW1xyXG4gICAge1xyXG4gICAgICB0aHJlYWRfaWQ6ICcxJyxcclxuICAgICAgdGl0bGU6ICfjgrXjg7Pjg5fjg6vjgrnjg6zjg4Pjg4kxJyxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIGxhbmd1YWdlOiAnamEnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aHJlYWRfaWQ6ICcyJyxcclxuICAgICAgdGl0bGU6ICfjgrXjg7Pjg5fjg6vjgrnjg6zjg4Pjg4kyJyxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDg2NDAwMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzYwMDAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgbGFuZ3VhZ2U6ICdqYSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRocmVhZF9pZDogJzMnLFxyXG4gICAgICB0aXRsZTogJ+ODl+ODreOCsOODqeODn+ODs+OCsOOBq+OBpOOBhOOBpuOBruitsOirlicsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxNzI4MDAwMDApLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA1NDAwMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBsYW5ndWFnZTogJ2phJ1xyXG4gICAgfVxyXG4gIF07XHJcbn1cclxuXHJcbmlmICghZ2xvYmFsLnBvc3RzU3RvcmUpIHtcclxuICBnbG9iYWwucG9zdHNTdG9yZSA9IHtcclxuICAgICcxJzogW1xyXG4gICAgICB7XHJcbiAgICAgICAgcG9zdF9pZDogJzFfMScsXHJcbiAgICAgICAgdGhyZWFkX2lkOiAnMScsXHJcbiAgICAgICAgYm9keTogJ+acgOWIneOBruaKleeov+OBp+OBmScsXHJcbiAgICAgICAgYW5vbnltb3VzX2lkOiAn5Yy/5ZCNMTIzJyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzYwMDAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBsYW5ndWFnZTogJ2phJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgcG9zdF9pZDogJzFfMicsXHJcbiAgICAgICAgdGhyZWFkX2lkOiAnMScsXHJcbiAgICAgICAgYm9keTogJ+i/lOS/oeOBp+OBmScsXHJcbiAgICAgICAgYW5vbnltb3VzX2lkOiAn5Yy/5ZCNNDU2JyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgbGFuZ3VhZ2U6ICdqYSdcclxuICAgICAgfVxyXG4gICAgXSxcclxuICAgICcyJzogW1xyXG4gICAgICB7XHJcbiAgICAgICAgcG9zdF9pZDogJzJfMScsXHJcbiAgICAgICAgdGhyZWFkX2lkOiAnMicsXHJcbiAgICAgICAgYm9keTogJ+WIpeOBruOCueODrOODg+ODieOBruaKleeov+OBp+OBmScsXHJcbiAgICAgICAgYW5vbnltb3VzX2lkOiAn5Yy/5ZCNNzg5JyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQwMDAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBsYW5ndWFnZTogJ2phJ1xyXG4gICAgICB9XHJcbiAgICBdLFxyXG4gICAgJzMnOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBwb3N0X2lkOiAnM18xJyxcclxuICAgICAgICB0aHJlYWRfaWQ6ICczJyxcclxuICAgICAgICBib2R5OiAn44OX44Ot44Kw44Op44Of44Oz44Kw44Gr44Gk44GE44Gm6Kmx44GX44G+44GX44KH44GGJyxcclxuICAgICAgICBhbm9ueW1vdXNfaWQ6ICfljL/lkI0xMDEnLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxNzIwMDAwMDApLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgbGFuZ3VhZ2U6ICdqYSdcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH07XHJcbn1cclxuXHJcbi8vIOOCueODrOODg+ODieODh+ODvOOCv+S/neWtmOeUqOmFjeWIl+OCkuOCqOOCr+OCueODneODvOODiFxyXG5leHBvcnQgY29uc3QgdGhyZWFkc1N0b3JlID0gZ2xvYmFsLnRocmVhZHNTdG9yZTtcclxuXHJcbi8vIOaKleeov+ODh+ODvOOCv+S/neWtmOeUqOOCquODluOCuOOCp+OCr+ODiOOCkuOCqOOCr+OCueODneODvOODiFxyXG5leHBvcnQgY29uc3QgcG9zdHNTdG9yZSA9IGdsb2JhbC5wb3N0c1N0b3JlO1xyXG5cclxuLy8g5paw44GX44GE44K544Os44OD44OJ44KS6L+95Yqg44GZ44KL44Om44O844OG44Kj44Oq44OG44Kj6Zai5pWwXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRUaHJlYWQodGhyZWFkKSB7XHJcbiAgLy8g5pei5a2Y44Gu44K544Os44OD44OJ44KS56K66KqN77yI6YeN6KSH6L+95Yqg6Ziy5q2i77yJXHJcbiAgY29uc3QgZXhpc3RpbmdUaHJlYWQgPSB0aHJlYWRzU3RvcmUuZmluZCh0ID0+IHQudGhyZWFkX2lkID09PSB0aHJlYWQudGhyZWFkX2lkKTtcclxuICBpZiAoIWV4aXN0aW5nVGhyZWFkKSB7XHJcbiAgICB0aHJlYWRzU3RvcmUucHVzaCh7Li4udGhyZWFkfSk7IC8vIOOCquODluOCuOOCp+OCr+ODiOOCkuOCs+ODlOODvOOBl+OBpui/veWKoFxyXG4gICAgY29uc29sZS5sb2coYOOCueODrOODg+ODiei/veWKoDogSUQ9JHt0aHJlYWQudGhyZWFkX2lkfSwg44K/44Kk44OI44OrPVwiJHt0aHJlYWQudGl0bGV9XCJgKTtcclxuICAgIGNvbnNvbGUubG9nKCfnj77lnKjjga7jgrnjg6zjg4Pjg4nkuIDopqc6JywgdGhyZWFkc1N0b3JlLm1hcCh0ID0+IHQudGhyZWFkX2lkKSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDmlrDjgZfjgYTmipXnqL/jgpLov73liqDjgZnjgovjg6bjg7zjg4bjgqPjg6rjg4bjgqPplqLmlbBcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFBvc3QodGhyZWFkSWQsIHBvc3QpIHtcclxuICBpZiAoIXBvc3RzU3RvcmVbdGhyZWFkSWRdKSB7XHJcbiAgICBwb3N0c1N0b3JlW3RocmVhZElkXSA9IFtdO1xyXG4gIH1cclxuICBwb3N0c1N0b3JlW3RocmVhZElkXS5wdXNoKHsuLi5wb3N0fSk7IC8vIOOCquODluOCuOOCp+OCr+ODiOOCkuOCs+ODlOODvOOBl+OBpui/veWKoFxyXG4gIGNvbnNvbGUubG9nKGDmipXnqL/ov73liqA6IOOCueODrOODg+ODiUlEPSR7dGhyZWFkSWR9LCDmipXnqL9JRD0ke3Bvc3QucG9zdF9pZH1gKTtcclxufVxyXG5cclxuLy8g44OH44OQ44OD44Kw55So77ya44OH44O844K/44K544OI44Ki44Gu5YaF5a6544KS6KGo56S6XHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0RhdGFTdG9yZSgpIHtcclxuICBjb25zb2xlLmxvZygnPT09PT0g44OH44O844K/44K544OI44Ki5YaF5a65ID09PT09Jyk7XHJcbiAgY29uc29sZS5sb2coJ+OCueODrOODg+ODieaVsDonLCB0aHJlYWRzU3RvcmUubGVuZ3RoKTtcclxuICBjb25zb2xlLmxvZygn44K544Os44OD44OJSUTkuIDopqc6JywgdGhyZWFkc1N0b3JlLm1hcCh0ID0+IHQudGhyZWFkX2lkKSk7XHJcbiAgY29uc29sZS5sb2coJ+aKleeov+aVsDonLCBPYmplY3Qua2V5cyhwb3N0c1N0b3JlKS5sZW5ndGgpO1xyXG4gIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PScpO1xyXG59ICJdLCJuYW1lcyI6WyJnbG9iYWwiLCJ0aHJlYWRzU3RvcmUiLCJ0aHJlYWRfaWQiLCJ0aXRsZSIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwibGFuZ3VhZ2UiLCJub3ciLCJwb3N0c1N0b3JlIiwicG9zdF9pZCIsImJvZHkiLCJhbm9ueW1vdXNfaWQiLCJhZGRUaHJlYWQiLCJ0aHJlYWQiLCJleGlzdGluZ1RocmVhZCIsImZpbmQiLCJ0IiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJtYXAiLCJhZGRQb3N0IiwidGhyZWFkSWQiLCJwb3N0IiwiZGVidWdEYXRhU3RvcmUiLCJsZW5ndGgiLCJPYmplY3QiLCJrZXlzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/dataStore.js\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n// モックのSupabaseクライアント\n// 実際の環境では@supabase/supabase-jsのcreateClientを使用します\n// モックのsupabaseオブジェクト\nconst supabase = {\n    // データ取得用のモックメソッド\n    from: (table)=>({\n            select: (columns)=>({\n                    eq: ()=>({\n                            single: ()=>Promise.resolve({\n                                    data: null,\n                                    error: {\n                                        message: \"Not implemented in mock\"\n                                    }\n                                }),\n                            order: ()=>Promise.resolve({\n                                    data: [],\n                                    error: null,\n                                    count: 0\n                                })\n                        }),\n                    order: ()=>({\n                            range: ()=>Promise.resolve({\n                                    data: [],\n                                    error: null,\n                                    count: 0\n                                })\n                        })\n                }),\n            insert: (data)=>({\n                    select: ()=>({\n                            single: ()=>Promise.resolve({\n                                    data: null,\n                                    error: {\n                                        message: \"Not implemented in mock\"\n                                    }\n                                })\n                        })\n                }),\n            update: ()=>({\n                    eq: ()=>Promise.resolve({\n                            data: null,\n                            error: null\n                        })\n                })\n        }),\n    // リアルタイム機能のモック\n    channel: (name)=>({\n            on: ()=>({\n                    subscribe: ()=>({\n                            unsubscribe: ()=>{}\n                        })\n                })\n        })\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHFCQUFxQjtBQUNyQixrREFBa0Q7QUFFbEQscUJBQXFCO0FBQ2QsTUFBTUEsV0FBVztJQUN0QixpQkFBaUI7SUFDakJDLE1BQU0sQ0FBQ0MsUUFBVztZQUNoQkMsUUFBUSxDQUFDQyxVQUFhO29CQUNwQkMsSUFBSSxJQUFPOzRCQUNUQyxRQUFRLElBQU1DLFFBQVFDLE9BQU8sQ0FBQztvQ0FBRUMsTUFBTTtvQ0FBTUMsT0FBTzt3Q0FBRUMsU0FBUztvQ0FBMEI7Z0NBQUU7NEJBQzFGQyxPQUFPLElBQU1MLFFBQVFDLE9BQU8sQ0FBQztvQ0FBRUMsTUFBTSxFQUFFO29DQUFFQyxPQUFPO29DQUFNRyxPQUFPO2dDQUFFO3dCQUNqRTtvQkFDQUQsT0FBTyxJQUFPOzRCQUNaRSxPQUFPLElBQU1QLFFBQVFDLE9BQU8sQ0FBQztvQ0FBRUMsTUFBTSxFQUFFO29DQUFFQyxPQUFPO29DQUFNRyxPQUFPO2dDQUFFO3dCQUNqRTtnQkFDRjtZQUNBRSxRQUFRLENBQUNOLE9BQVU7b0JBQ2pCTixRQUFRLElBQU87NEJBQ2JHLFFBQVEsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO29DQUFFQyxNQUFNO29DQUFNQyxPQUFPO3dDQUFFQyxTQUFTO29DQUEwQjtnQ0FBRTt3QkFDNUY7Z0JBQ0Y7WUFDQUssUUFBUSxJQUFPO29CQUNiWCxJQUFJLElBQU1FLFFBQVFDLE9BQU8sQ0FBQzs0QkFBRUMsTUFBTTs0QkFBTUMsT0FBTzt3QkFBSztnQkFDdEQ7UUFDRjtJQUVBLGVBQWU7SUFDZk8sU0FBUyxDQUFDQyxPQUFVO1lBQ2xCQyxJQUFJLElBQU87b0JBQ1RDLFdBQVcsSUFBTzs0QkFDaEJDLGFBQWEsS0FBTzt3QkFDdEI7Z0JBQ0Y7UUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly81Y2gvLi9saWIvc3VwYWJhc2VDbGllbnQuanM/NWYwZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDjg6Ljg4Pjgq/jga5TdXBhYmFzZeOCr+ODqeOCpOOCouODs+ODiFxyXG4vLyDlrp/pmpvjga7nkrDlooPjgafjga9Ac3VwYWJhc2Uvc3VwYWJhc2UtanPjga5jcmVhdGVDbGllbnTjgpLkvb/nlKjjgZfjgb7jgZlcclxuXHJcbi8vIOODouODg+OCr+OBrnN1cGFiYXNl44Kq44OW44K444Kn44Kv44OIXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IHtcclxuICAvLyDjg4fjg7zjgr/lj5blvpfnlKjjga7jg6Ljg4Pjgq/jg6Hjgr3jg4Pjg4lcclxuICBmcm9tOiAodGFibGUpID0+ICh7XHJcbiAgICBzZWxlY3Q6IChjb2x1bW5zKSA9PiAoe1xyXG4gICAgICBlcTogKCkgPT4gKHtcclxuICAgICAgICBzaW5nbGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdOb3QgaW1wbGVtZW50ZWQgaW4gbW9jaycgfSB9KSxcclxuICAgICAgICBvcmRlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogW10sIGVycm9yOiBudWxsLCBjb3VudDogMCB9KSxcclxuICAgICAgfSksXHJcbiAgICAgIG9yZGVyOiAoKSA9PiAoe1xyXG4gICAgICAgIHJhbmdlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwsIGNvdW50OiAwIH0pLFxyXG4gICAgICB9KSxcclxuICAgIH0pLFxyXG4gICAgaW5zZXJ0OiAoZGF0YSkgPT4gKHtcclxuICAgICAgc2VsZWN0OiAoKSA9PiAoe1xyXG4gICAgICAgIHNpbmdsZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ05vdCBpbXBsZW1lbnRlZCBpbiBtb2NrJyB9IH0pXHJcbiAgICAgIH0pXHJcbiAgICB9KSxcclxuICAgIHVwZGF0ZTogKCkgPT4gKHtcclxuICAgICAgZXE6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pXHJcbiAgICB9KVxyXG4gIH0pLFxyXG4gIFxyXG4gIC8vIOODquOCouODq+OCv+OCpOODoOapn+iDveOBruODouODg+OCr1xyXG4gIGNoYW5uZWw6IChuYW1lKSA9PiAoe1xyXG4gICAgb246ICgpID0+ICh7XHJcbiAgICAgIHN1YnNjcmliZTogKCkgPT4gKHtcclxuICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4ge31cclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSlcclxufTsgIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiZnJvbSIsInRhYmxlIiwic2VsZWN0IiwiY29sdW1ucyIsImVxIiwic2luZ2xlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkYXRhIiwiZXJyb3IiLCJtZXNzYWdlIiwib3JkZXIiLCJjb3VudCIsInJhbmdlIiwiaW5zZXJ0IiwidXBkYXRlIiwiY2hhbm5lbCIsIm5hbWUiLCJvbiIsInN1YnNjcmliZSIsInVuc3Vic2NyaWJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./lib/translation.js":
/*!****************************!*\
  !*** ./lib/translation.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTranslation: () => (/* binding */ getTranslation),\n/* harmony export */   saveTranslation: () => (/* binding */ saveTranslation),\n/* harmony export */   translateWithDeepL: () => (/* binding */ translateWithDeepL)\n/* harmony export */ });\n/* harmony import */ var _supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabaseClient.js */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_1__]);\naxios__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// DeepL API設定\nconst DEEPL_API_URL = \"https://api-free.deepl.com/v2/translate\";\nconst DEEPL_API_KEY = \"3b6926d8-d7fe-0ab5-a139-58078d395af5:fx\" || 0; // 環境変数から取得\n/**\n * DeepL APIを使用してテキストを翻訳する\n * @param {object} params - パラメータ\n * @param {string|string[]} params.text - 翻訳するテキストまたはテキストの配列\n * @param {string} params.targetLang - ターゲット言語コード（'EN'または'JA'）\n * @returns {Promise<string[]>} - 翻訳されたテキストの配列\n */ async function translateWithDeepL({ text, targetLang }) {\n    try {\n        // 言語コードをDeepL形式に変換\n        const formattedLang = targetLang.toUpperCase();\n        // テキストを配列に確実に変換\n        const textArray = Array.isArray(text) ? text : [\n            text\n        ];\n        // 空のテキストはスキップ\n        const filteredTextArray = textArray.filter((t)=>t && t.trim() !== \"\");\n        if (filteredTextArray.length === 0) {\n            return Array.isArray(text) ? [] : [\n                \"\"\n            ];\n        }\n        console.log(`翻訳APIリクエスト: targetLang=${formattedLang}, テキスト数=${filteredTextArray.length}`);\n        // DeepL APIリクエスト\n        const response = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(DEEPL_API_URL, {\n            text: filteredTextArray,\n            target_lang: formattedLang,\n            source_lang: formattedLang === \"EN\" ? \"JA\" : \"EN\"\n        }, {\n            headers: {\n                \"Authorization\": `DeepL-Auth-Key ${DEEPL_API_KEY}`,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        // レスポンスから翻訳テキストを取り出す\n        const translations = response.data.translations.map((t)=>t.text);\n        // デバッグ出力\n        console.log(`翻訳結果: ${translations.length}件の翻訳が完了`);\n        // 配列またはシングルの値を返す\n        return Array.isArray(text) ? translations : [\n            translations[0] || \"\"\n        ];\n    } catch (error) {\n        console.error(\"DeepL API翻訳エラー:\", error.response?.data || error.message);\n        // エラー時はフォールバック：元のテキストをそのまま返す\n        return Array.isArray(text) ? text : [\n            text\n        ];\n    }\n}\n/**\n * 翻訳をデータベースに保存する\n * @param {string} sourceId - ソースID\n * @param {'thread'|'post'} sourceType - ソースタイプ\n * @param {string} language - 言語コード\n * @param {string} translatedContent - 翻訳されたコンテンツ\n * @returns {Promise} - 保存結果\n */ async function saveTranslation(sourceId, sourceType, language, translatedContent) {\n    try {\n        // Supabaseに翻訳を保存\n        const { data, error } = await _supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"translations\").upsert({\n            source_id: sourceId,\n            source_type: sourceType,\n            language,\n            translated_content: translatedContent,\n            created_at: new Date().toISOString()\n        });\n        if (error) throw error;\n        console.log(`翻訳を保存: ${sourceType} ${sourceId} to ${language}`);\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"翻訳保存エラー:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n/**\n * 翻訳をデータベースから取得する\n * @param {string} sourceId - ソースID\n * @param {'thread'|'post'} sourceType - ソースタイプ\n * @param {string} language - 言語コード\n * @returns {Promise<string|null>} - 保存された翻訳データ\n */ async function getTranslation(sourceId, sourceType, language) {\n    try {\n        // Supabaseから翻訳を取得\n        const { data, error } = await _supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"translations\").select(\"translated_content\").eq(\"source_id\", sourceId).eq(\"source_type\", sourceType).eq(\"language\", language).single();\n        if (error) throw error;\n        console.log(`翻訳を取得: ${sourceType} ${sourceId} from ${language}`);\n        return data?.translated_content || null;\n    } catch (error) {\n        console.error(\"翻訳取得エラー:\", error);\n        return null;\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUVQLElBQUksRUFBRUUsS0FBSyxFQUFFLEdBQUcsTUFBTTdCLHdEQUFRQSxDQUNuQ29DLElBQUksQ0FBQyxnQkFDTFMsTUFBTSxDQUFDLHNCQUNQQyxFQUFFLENBQUMsYUFBYWQsVUFDaEJjLEVBQUUsQ0FBQyxlQUFlYixZQUNsQmEsRUFBRSxDQUFDLFlBQVlaLFVBQ2ZhLE1BQU07UUFFVCxJQUFJbEIsT0FBTyxNQUFNQTtRQUVqQlYsUUFBUUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFYSxXQUFXLENBQUMsRUFBRUQsU0FBUyxNQUFNLEVBQUVFLFNBQVMsQ0FBQztRQUMvRCxPQUFPUCxNQUFNYSxzQkFBc0I7SUFFckMsRUFBRSxPQUFPWCxPQUFPO1FBQ2RWLFFBQVFVLEtBQUssQ0FBQyxZQUFZQTtRQUMxQixPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLzVjaC8uL2xpYi90cmFuc2xhdGlvbi5qcz9jZDI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi9zdXBhYmFzZUNsaWVudC5qcyc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG4vLyBEZWVwTCBBUEnoqK3lrppcbmNvbnN0IERFRVBMX0FQSV9VUkwgPSAnaHR0cHM6Ly9hcGktZnJlZS5kZWVwbC5jb20vdjIvdHJhbnNsYXRlJztcbmNvbnN0IERFRVBMX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5ERUVQTF9BUElfS0VZIHx8ICd5b3VyLWFwaS1rZXknOyAvLyDnkrDlooPlpInmlbDjgYvjgonlj5blvpdcblxuLyoqXG4gKiBEZWVwTCBBUEnjgpLkvb/nlKjjgZfjgabjg4bjgq3jgrnjg4jjgpLnv7voqLPjgZnjgotcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSDjg5Hjg6njg6Hjg7zjgr9cbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBwYXJhbXMudGV4dCAtIOe/u+ios+OBmeOCi+ODhuOCreOCueODiOOBvuOBn+OBr+ODhuOCreOCueODiOOBrumFjeWIl1xuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy50YXJnZXRMYW5nIC0g44K/44O844Ky44OD44OI6KiA6Kqe44Kz44O844OJ77yIJ0VOJ+OBvuOBn+OBrydKQSfvvIlcbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZ1tdPn0gLSDnv7voqLPjgZXjgozjgZ/jg4bjgq3jgrnjg4jjga7phY3liJdcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zbGF0ZVdpdGhEZWVwTCh7IHRleHQsIHRhcmdldExhbmcgfSkge1xuICB0cnkge1xuICAgIC8vIOiogOiqnuOCs+ODvOODieOCkkRlZXBM5b2i5byP44Gr5aSJ5o+bXG4gICAgY29uc3QgZm9ybWF0dGVkTGFuZyA9IHRhcmdldExhbmcudG9VcHBlckNhc2UoKTtcbiAgICBcbiAgICAvLyDjg4bjgq3jgrnjg4jjgpLphY3liJfjgavnorrlrp/jgavlpInmj5tcbiAgICBjb25zdCB0ZXh0QXJyYXkgPSBBcnJheS5pc0FycmF5KHRleHQpID8gdGV4dCA6IFt0ZXh0XTtcbiAgICBcbiAgICAvLyDnqbrjga7jg4bjgq3jgrnjg4jjga/jgrnjgq3jg4Pjg5dcbiAgICBjb25zdCBmaWx0ZXJlZFRleHRBcnJheSA9IHRleHRBcnJheS5maWx0ZXIodCA9PiB0ICYmIHQudHJpbSgpICE9PSAnJyk7XG4gICAgaWYgKGZpbHRlcmVkVGV4dEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGV4dCkgPyBbXSA6IFsnJ107XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGDnv7voqLNBUEnjg6rjgq/jgqjjgrnjg4g6IHRhcmdldExhbmc9JHtmb3JtYXR0ZWRMYW5nfSwg44OG44Kt44K544OI5pWwPSR7ZmlsdGVyZWRUZXh0QXJyYXkubGVuZ3RofWApO1xuICAgIFxuICAgIC8vIERlZXBMIEFQSeODquOCr+OCqOOCueODiFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgIERFRVBMX0FQSV9VUkwsXG4gICAgICB7XG4gICAgICAgIHRleHQ6IGZpbHRlcmVkVGV4dEFycmF5LFxuICAgICAgICB0YXJnZXRfbGFuZzogZm9ybWF0dGVkTGFuZyxcbiAgICAgICAgc291cmNlX2xhbmc6IGZvcm1hdHRlZExhbmcgPT09ICdFTicgPyAnSkEnIDogJ0VOJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBEZWVwTC1BdXRoLUtleSAke0RFRVBMX0FQSV9LRVl9YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgLy8g44Os44K544Od44Oz44K544GL44KJ57+76Kiz44OG44Kt44K544OI44KS5Y+W44KK5Ye644GZXG4gICAgY29uc3QgdHJhbnNsYXRpb25zID0gcmVzcG9uc2UuZGF0YS50cmFuc2xhdGlvbnMubWFwKHQgPT4gdC50ZXh0KTtcbiAgICBcbiAgICAvLyDjg4fjg5Djg4PjgrDlh7rliptcbiAgICBjb25zb2xlLmxvZyhg57+76Kiz57WQ5p6cOiAke3RyYW5zbGF0aW9ucy5sZW5ndGh95Lu244Gu57+76Kiz44GM5a6M5LqGYCk7XG4gICAgXG4gICAgLy8g6YWN5YiX44G+44Gf44Gv44K344Oz44Kw44Or44Gu5YCk44KS6L+U44GZXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0cmFuc2xhdGlvbnMgOiBbdHJhbnNsYXRpb25zWzBdIHx8ICcnXTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEZWVwTCBBUEnnv7voqLPjgqjjg6njg7w6JywgZXJyb3IucmVzcG9uc2U/LmRhdGEgfHwgZXJyb3IubWVzc2FnZSk7XG4gICAgXG4gICAgLy8g44Ko44Op44O85pmC44Gv44OV44Kp44O844Or44OQ44OD44Kv77ya5YWD44Gu44OG44Kt44K544OI44KS44Gd44Gu44G+44G+6L+U44GZXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0ZXh0IDogW3RleHRdO1xuICB9XG59XG5cbi8qKlxuICog57+76Kiz44KS44OH44O844K/44OZ44O844K544Gr5L+d5a2Y44GZ44KLXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlSWQgLSDjgr3jg7zjgrlJRFxuICogQHBhcmFtIHsndGhyZWFkJ3wncG9zdCd9IHNvdXJjZVR5cGUgLSDjgr3jg7zjgrnjgr/jgqTjg5dcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIOiogOiqnuOCs+ODvOODiVxuICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0ZWRDb250ZW50IC0g57+76Kiz44GV44KM44Gf44Kz44Oz44OG44Oz44OEXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSDkv53lrZjntZDmnpxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVUcmFuc2xhdGlvbihzb3VyY2VJZCwgc291cmNlVHlwZSwgbGFuZ3VhZ2UsIHRyYW5zbGF0ZWRDb250ZW50KSB7XG4gIHRyeSB7XG4gICAgLy8gU3VwYWJhc2Xjgavnv7voqLPjgpLkv53lrZhcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3RyYW5zbGF0aW9ucycpXG4gICAgICAudXBzZXJ0KHtcbiAgICAgICAgc291cmNlX2lkOiBzb3VyY2VJZCxcbiAgICAgICAgc291cmNlX3R5cGU6IHNvdXJjZVR5cGUsXG4gICAgICAgIGxhbmd1YWdlLFxuICAgICAgICB0cmFuc2xhdGVkX2NvbnRlbnQ6IHRyYW5zbGF0ZWRDb250ZW50LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg57+76Kiz44KS5L+d5a2YOiAke3NvdXJjZVR5cGV9ICR7c291cmNlSWR9IHRvICR7bGFuZ3VhZ2V9YCk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfnv7voqLPkv53lrZjjgqjjg6njg7w6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gIH1cbn1cblxuLyoqXG4gKiDnv7voqLPjgpLjg4fjg7zjgr/jg5njg7zjgrnjgYvjgonlj5blvpfjgZnjgotcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VJZCAtIOOCveODvOOCuUlEXG4gKiBAcGFyYW0geyd0aHJlYWQnfCdwb3N0J30gc291cmNlVHlwZSAtIOOCveODvOOCueOCv+OCpOODl1xuICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0g6KiA6Kqe44Kz44O844OJXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmd8bnVsbD59IC0g5L+d5a2Y44GV44KM44Gf57+76Kiz44OH44O844K/XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihzb3VyY2VJZCwgc291cmNlVHlwZSwgbGFuZ3VhZ2UpIHtcbiAgdHJ5IHtcbiAgICAvLyBTdXBhYmFzZeOBi+OCiee/u+ios+OCkuWPluW+l1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndHJhbnNsYXRpb25zJylcbiAgICAgIC5zZWxlY3QoJ3RyYW5zbGF0ZWRfY29udGVudCcpXG4gICAgICAuZXEoJ3NvdXJjZV9pZCcsIHNvdXJjZUlkKVxuICAgICAgLmVxKCdzb3VyY2VfdHlwZScsIHNvdXJjZVR5cGUpXG4gICAgICAuZXEoJ2xhbmd1YWdlJywgbGFuZ3VhZ2UpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDnv7voqLPjgpLlj5blvpc6ICR7c291cmNlVHlwZX0gJHtzb3VyY2VJZH0gZnJvbSAke2xhbmd1YWdlfWApO1xuICAgIHJldHVybiBkYXRhPy50cmFuc2xhdGVkX2NvbnRlbnQgfHwgbnVsbDtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfnv7voqLPlj5blvpfjgqjjg6njg7w6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59ICJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImF4aW9zIiwiREVFUExfQVBJX1VSTCIsIkRFRVBMX0FQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwidHJhbnNsYXRlV2l0aERlZXBMIiwidGV4dCIsInRhcmdldExhbmciLCJmb3JtYXR0ZWRMYW5nIiwidG9VcHBlckNhc2UiLCJ0ZXh0QXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJmaWx0ZXJlZFRleHRBcnJheSIsImZpbHRlciIsInQiLCJ0cmltIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwicG9zdCIsInRhcmdldF9sYW5nIiwic291cmNlX2xhbmciLCJoZWFkZXJzIiwidHJhbnNsYXRpb25zIiwiZGF0YSIsIm1hcCIsImVycm9yIiwibWVzc2FnZSIsInNhdmVUcmFuc2xhdGlvbiIsInNvdXJjZUlkIiwic291cmNlVHlwZSIsImxhbmd1YWdlIiwidHJhbnNsYXRlZENvbnRlbnQiLCJmcm9tIiwidXBzZXJ0Iiwic291cmNlX2lkIiwic291cmNlX3R5cGUiLCJ0cmFuc2xhdGVkX2NvbnRlbnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2V0VHJhbnNsYXRpb24iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/translation.js\n");

/***/ }),

/***/ "(api)/./pages/api/posts.js":
/*!****************************!*\
  !*** ./pages/api/posts.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient.js */ \"(api)/./lib/supabaseClient.js\");\n/* harmony import */ var _lib_translation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/translation.js */ \"(api)/./lib/translation.js\");\n/* harmony import */ var _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/dataStore.js */ \"(api)/./lib/dataStore.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// APIルートハンドラー実行時にデータストアの内容を確認\n(0,_lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.debugDataStore)();\n// posts APIからthreads APIにデータを取得するユーティリティ\nasync function getThreadsData() {\n    try {\n        // 共有データストアから直接取得\n        return {\n            threads: _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore\n        };\n    } catch (error) {\n        console.error(\"Error accessing threads data:\", error);\n    }\n    return {\n        threads: []\n    };\n}\n// スレッド情報を取得するユーティリティ\nasync function getThreadById(threadId) {\n    // 共有データストアから直接取得\n    const thread = _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.find((t)=>t.thread_id === threadId);\n    if (thread) {\n        return {\n            thread,\n            posts: _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.postsStore[threadId] || []\n        };\n    }\n    return null;\n}\nasync function handler(req, res) {\n    const { method } = req;\n    switch(method){\n        case \"POST\":\n            try {\n                const { threadId, body, anonymousId, language = \"ja\" } = req.body;\n                if (!threadId || !body) {\n                    return res.status(400).json({\n                        error: \"Thread ID and body are required\"\n                    });\n                }\n                // スレッドの存在を確認\n                const threadData = await getThreadById(threadId);\n                if (!threadData || !threadData.thread) {\n                    // スレッド一覧からも確認\n                    const allThreadsData = await getThreadsData();\n                    const thread = allThreadsData.threads.find((t)=>t.thread_id === threadId);\n                    if (!thread) {\n                        return res.status(404).json({\n                            error: \"Thread not found\"\n                        });\n                    }\n                    // 見つかったスレッドをローカルに追加\n                    (0,_lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.addThread)(thread);\n                }\n                // ユーザーID（匿名）\n                const userId = anonymousId || `匿名${Math.floor(Math.random() * 1000)}`;\n                // 新しい投稿を作成\n                const postId = `${threadId}_${Date.now()}`;\n                const newPost = {\n                    post_id: postId,\n                    thread_id: threadId,\n                    body,\n                    anonymous_id: userId,\n                    created_at: new Date().toISOString(),\n                    language\n                };\n                // 投稿を保存\n                (0,_lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.addPost)(threadId, newPost);\n                // 英語の翻訳を事前生成\n                if (language === \"ja\") {\n                    try {\n                        const [translatedBody] = await (0,_lib_translation_js__WEBPACK_IMPORTED_MODULE_1__.translateWithDeepL)({\n                            text: body,\n                            targetLang: \"EN\"\n                        });\n                        // 保存済み投稿に翻訳を追加\n                        const originalPost = _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.postsStore[threadId]?.find((p)=>p.post_id === postId);\n                        if (originalPost) {\n                            originalPost.body_en = translatedBody;\n                        }\n                        console.log(`新規投稿翻訳: \"${body.substring(0, 20)}...\" -> \"${translatedBody.substring(0, 20)}...\"`);\n                    } catch (error) {\n                        console.error(\"Error translating post:\", error);\n                    }\n                }\n                // スレッドの更新日時を更新\n                const threadToUpdate = _lib_dataStore_js__WEBPACK_IMPORTED_MODULE_2__.threadsStore.find((t)=>t.thread_id === threadId);\n                if (threadToUpdate) {\n                    threadToUpdate.updated_at = new Date().toISOString();\n                }\n                return res.status(201).json(newPost);\n            } catch (error) {\n                console.error(\"Error creating post:\", error);\n                return res.status(500).json({\n                    error: \"Internal Server Error\"\n                });\n            }\n            break;\n        default:\n            res.setHeader(\"Allow\", [\n                \"POST\"\n            ]);\n            return res.status(405).json({\n                error: `Method ${method} Not Allowed`\n            });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWVPLFNBQVMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDO29CQUNoRyxFQUFFLE9BQU92QyxPQUFPO3dCQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtvQkFDM0M7Z0JBQ0Y7Z0JBRUEsZUFBZTtnQkFDZixNQUFNd0MsaUJBQWlCL0MsMkRBQVlBLENBQUNZLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsU0FBUyxLQUFLSjtnQkFDOUQsSUFBSXFDLGdCQUFnQjtvQkFDbEJBLGVBQWVDLFVBQVUsR0FBRyxJQUFJaEIsT0FBT00sV0FBVztnQkFDcEQ7Z0JBRUEsT0FBT3BCLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNVO1lBQzlCLEVBQUUsT0FBTzNCLE9BQU87Z0JBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO2dCQUN0QyxPQUFPVyxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFakIsT0FBTztnQkFBd0I7WUFDL0Q7WUFDQTtRQUVGO1lBQ0VXLElBQUkrQixTQUFTLENBQUMsU0FBUztnQkFBQzthQUFPO1lBQy9CLE9BQU8vQixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFakIsT0FBTyxDQUFDLE9BQU8sRUFBRVksT0FBTyxZQUFZLENBQUM7WUFBQztJQUN4RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNWNoLy4vcGFnZXMvYXBpL3Bvc3RzLmpzPzY5ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuLi8uLi9saWIvc3VwYWJhc2VDbGllbnQuanMnO1xuaW1wb3J0IHsgdHJhbnNsYXRlV2l0aERlZXBMLCBzYXZlVHJhbnNsYXRpb24gfSBmcm9tICcuLi8uLi9saWIvdHJhbnNsYXRpb24uanMnO1xuaW1wb3J0IHsgdGhyZWFkc1N0b3JlLCBwb3N0c1N0b3JlLCBhZGRUaHJlYWQsIGFkZFBvc3QsIGRlYnVnRGF0YVN0b3JlIH0gZnJvbSAnLi4vLi4vbGliL2RhdGFTdG9yZS5qcyc7XG5cbi8vIEFQSeODq+ODvOODiOODj+ODs+ODieODqeODvOWun+ihjOaZguOBq+ODh+ODvOOCv+OCueODiOOCouOBruWGheWuueOCkueiuuiqjVxuZGVidWdEYXRhU3RvcmUoKTtcblxuLy8gcG9zdHMgQVBJ44GL44KJdGhyZWFkcyBBUEnjgavjg4fjg7zjgr/jgpLlj5blvpfjgZnjgovjg6bjg7zjg4bjgqPjg6rjg4bjgqNcbmFzeW5jIGZ1bmN0aW9uIGdldFRocmVhZHNEYXRhKCkge1xuICB0cnkge1xuICAgIC8vIOWFseacieODh+ODvOOCv+OCueODiOOCouOBi+OCieebtOaOpeWPluW+l1xuICAgIHJldHVybiB7IHRocmVhZHM6IHRocmVhZHNTdG9yZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjY2Vzc2luZyB0aHJlYWRzIGRhdGE6JywgZXJyb3IpO1xuICB9XG4gIFxuICByZXR1cm4geyB0aHJlYWRzOiBbXSB9O1xufVxuXG4vLyDjgrnjg6zjg4Pjg4nmg4XloLHjgpLlj5blvpfjgZnjgovjg6bjg7zjg4bjgqPjg6rjg4bjgqNcbmFzeW5jIGZ1bmN0aW9uIGdldFRocmVhZEJ5SWQodGhyZWFkSWQpIHtcbiAgLy8g5YWx5pyJ44OH44O844K/44K544OI44Ki44GL44KJ55u05o6l5Y+W5b6XXG4gIGNvbnN0IHRocmVhZCA9IHRocmVhZHNTdG9yZS5maW5kKHQgPT4gdC50aHJlYWRfaWQgPT09IHRocmVhZElkKTtcbiAgaWYgKHRocmVhZCkge1xuICAgIHJldHVybiB7IFxuICAgICAgdGhyZWFkLFxuICAgICAgcG9zdHM6IHBvc3RzU3RvcmVbdGhyZWFkSWRdIHx8IFtdXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCB7IG1ldGhvZCB9ID0gcmVxO1xuXG4gIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgY2FzZSAnUE9TVCc6XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHRocmVhZElkLCBib2R5LCBhbm9ueW1vdXNJZCwgbGFuZ3VhZ2UgPSAnamEnIH0gPSByZXEuYm9keTtcbiAgICAgICAgXG4gICAgICAgIGlmICghdGhyZWFkSWQgfHwgIWJvZHkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1RocmVhZCBJRCBhbmQgYm9keSBhcmUgcmVxdWlyZWQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDjgrnjg6zjg4Pjg4njga7lrZjlnKjjgpLnorroqo1cbiAgICAgICAgY29uc3QgdGhyZWFkRGF0YSA9IGF3YWl0IGdldFRocmVhZEJ5SWQodGhyZWFkSWQpO1xuICAgICAgICBpZiAoIXRocmVhZERhdGEgfHwgIXRocmVhZERhdGEudGhyZWFkKSB7XG4gICAgICAgICAgLy8g44K544Os44OD44OJ5LiA6Kan44GL44KJ44KC56K66KqNXG4gICAgICAgICAgY29uc3QgYWxsVGhyZWFkc0RhdGEgPSBhd2FpdCBnZXRUaHJlYWRzRGF0YSgpO1xuICAgICAgICAgIGNvbnN0IHRocmVhZCA9IGFsbFRocmVhZHNEYXRhLnRocmVhZHMuZmluZCh0ID0+IHQudGhyZWFkX2lkID09PSB0aHJlYWRJZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF0aHJlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnVGhyZWFkIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIOimi+OBpOOBi+OBo+OBn+OCueODrOODg+ODieOCkuODreODvOOCq+ODq+OBq+i/veWKoFxuICAgICAgICAgIGFkZFRocmVhZCh0aHJlYWQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDjg6bjg7zjgrbjg7xJRO+8iOWMv+WQje+8iVxuICAgICAgICBjb25zdCB1c2VySWQgPSBhbm9ueW1vdXNJZCB8fCBg5Yy/5ZCNJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgICAgICBcbiAgICAgICAgLy8g5paw44GX44GE5oqV56i/44KS5L2c5oiQXG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGAke3RocmVhZElkfV8ke0RhdGUubm93KCl9YDtcbiAgICAgICAgY29uc3QgbmV3UG9zdCA9IHtcbiAgICAgICAgICBwb3N0X2lkOiBwb3N0SWQsXG4gICAgICAgICAgdGhyZWFkX2lkOiB0aHJlYWRJZCxcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIGFub255bW91c19pZDogdXNlcklkLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBsYW5ndWFnZVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8g5oqV56i/44KS5L+d5a2YXG4gICAgICAgIGFkZFBvc3QodGhyZWFkSWQsIG5ld1Bvc3QpO1xuICAgICAgICBcbiAgICAgICAgLy8g6Iux6Kqe44Gu57+76Kiz44KS5LqL5YmN55Sf5oiQXG4gICAgICAgIGlmIChsYW5ndWFnZSA9PT0gJ2phJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBbdHJhbnNsYXRlZEJvZHldID0gYXdhaXQgdHJhbnNsYXRlV2l0aERlZXBMKHtcbiAgICAgICAgICAgICAgdGV4dDogYm9keSxcbiAgICAgICAgICAgICAgdGFyZ2V0TGFuZzogJ0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOS/neWtmOa4iOOBv+aKleeov+OBq+e/u+ios+OCkui/veWKoFxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQb3N0ID0gcG9zdHNTdG9yZVt0aHJlYWRJZF0/LmZpbmQocCA9PiBwLnBvc3RfaWQgPT09IHBvc3RJZCk7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWxQb3N0KSB7XG4gICAgICAgICAgICAgIG9yaWdpbmFsUG9zdC5ib2R5X2VuID0gdHJhbnNsYXRlZEJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDmlrDopo/mipXnqL/nv7voqLM6IFwiJHtib2R5LnN1YnN0cmluZygwLCAyMCl9Li4uXCIgLT4gXCIke3RyYW5zbGF0ZWRCb2R5LnN1YnN0cmluZygwLCAyMCl9Li4uXCJgKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdHJhbnNsYXRpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDjgrnjg6zjg4Pjg4njga7mm7TmlrDml6XmmYLjgpLmm7TmlrBcbiAgICAgICAgY29uc3QgdGhyZWFkVG9VcGRhdGUgPSB0aHJlYWRzU3RvcmUuZmluZCh0ID0+IHQudGhyZWFkX2lkID09PSB0aHJlYWRJZCk7XG4gICAgICAgIGlmICh0aHJlYWRUb1VwZGF0ZSkge1xuICAgICAgICAgIHRocmVhZFRvVXBkYXRlLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbihuZXdQb3N0KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICAgIFxuICAgIGRlZmF1bHQ6XG4gICAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnUE9TVCddKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiBgTWV0aG9kICR7bWV0aG9kfSBOb3QgQWxsb3dlZGAgfSk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwidHJhbnNsYXRlV2l0aERlZXBMIiwic2F2ZVRyYW5zbGF0aW9uIiwidGhyZWFkc1N0b3JlIiwicG9zdHNTdG9yZSIsImFkZFRocmVhZCIsImFkZFBvc3QiLCJkZWJ1Z0RhdGFTdG9yZSIsImdldFRocmVhZHNEYXRhIiwidGhyZWFkcyIsImVycm9yIiwiY29uc29sZSIsImdldFRocmVhZEJ5SWQiLCJ0aHJlYWRJZCIsInRocmVhZCIsImZpbmQiLCJ0IiwidGhyZWFkX2lkIiwicG9zdHMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiYm9keSIsImFub255bW91c0lkIiwibGFuZ3VhZ2UiLCJzdGF0dXMiLCJqc29uIiwidGhyZWFkRGF0YSIsImFsbFRocmVhZHNEYXRhIiwidXNlcklkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicG9zdElkIiwiRGF0ZSIsIm5vdyIsIm5ld1Bvc3QiLCJwb3N0X2lkIiwiYW5vbnltb3VzX2lkIiwiY3JlYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwidHJhbnNsYXRlZEJvZHkiLCJ0ZXh0IiwidGFyZ2V0TGFuZyIsIm9yaWdpbmFsUG9zdCIsInAiLCJib2R5X2VuIiwibG9nIiwic3Vic3RyaW5nIiwidGhyZWFkVG9VcGRhdGUiLCJ1cGRhdGVkX2F0Iiwic2V0SGVhZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/posts.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cposts.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();